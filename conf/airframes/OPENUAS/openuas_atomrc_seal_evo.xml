<!DOCTYPE airframe SYSTEM "../airframe.dtd">
<airframe name="Seal_EVO">
  <description>
    A good fixedwing example airframe to demonstrate the use and setup of a T4 Actuators Board

    ABOUT:
    + Model:       Eachine AtomRC Seal 1500mm Wingspan EPO FPV RC Airplane 
    + Autopilot:   Cube Orange Plus(+) (THe manufacturer names it FMU v2.1)
    + Actuators:   All Servo are Serial Bus Servos connected to a T4 Actuators Board

    + GNSS:        Two (2x) uBlox ZED F9P with RTK 
    + MAG:         RM3100
    + ESC:         Default 30A with flashed AM32 Opensource Firmware
    + RCRX:        OpenRXSR Receiver (or TBS Crossfire Micro swapped)
    + AIRSPEED:    Sensirion DPS3x
    + TELEMETRY:   - Si10xx Chip based with firmware enabling PPRZ RSSI message
                   - or Herelink
                   - or ESP32C3 Wifi module
    + CURRENT:     A standard Hextronix PowerBrick sensor on the default analog ports
    + RANGER:      SF20 sensor on I2C
    + MOTOR:       Default
    + PROP:        Default 8x4

    NOTES:
    + Servo pins point to tail of airframe
    + Engine battery voltage and current values HExtronix powerbrick
    + Servos and Sonar powered via BEC of ESC
    + Flightcontroller powered via BEC on powerbrick
    + Temporary telemetry powered via BEC on powerbrick
    + Herelink Telemetry powered via additional CC BEC at 7.1V
    + Uploading of the firmware can be performed via original PX4 or ARDU bootloader...
      Simple, press upload button in GUI...then USB cable in, wait... voila PPRZdized aircraft
    + Separate left and right Aileron servo outputs pin for more flexibility
    + Advised battery for this airframe is a 3300mAh 4S LiPo min. 15C
    + Modified the motor thrust angle to be more, 2mm washers under bottom of motor x cross
    + Default indicated CoG
    + There is an AOA as well as a SSA sensor on a probebar
  </description>

  <firmware name="fixedwing">

    <target name="ap" board="cube_orangeplus">
      <!-- configure name="RTOS_DEBUG" value="TRUE"/> -->
      <!-- <define name="USE_PERSISTENT_SETTINGS" value="TRUE"/ >-->
      <!-- <define name="DEBUG" value="TRUE"/> --> <!-- Enable for additional debug output, e.g. ms5611 -->
      <!-- <define name="USE_PERIODIC_TELEMETRY_REPORT" value="TRUE"/> -->

      <configure name="PERIODIC_FREQUENCY" value="500"/>

      <configure name="AHRS_PROPAGATE_FREQUENCY" value="500"/>
      <configure name="AHRS_CORRECT_FREQUENCY" value="500"/>
      <!-- <configure name="AHRS_MAG_CORRECT_FREQUENCY" value="50"/> -->
      <!-- 
      <configure name="NAVIGATION_FREQUENCY" value="20"/>
      <configure name="CONTROL_FREQUENCY" value="100"/>
      <configure name="TELEMETRY_FREQUENCY" value="50"/>
      <configure name="MODULES_FREQUENCY" value="500"/> 
      -->
      <define name="IMU_CUBE_ORANGEPLUS" value="TRUE"/>
      <module name="imu" type="cube"/>
      <!-- <module name="imu" type="heater"/> -->

      <!-- <configure name="USE_ADC_1" value="TRUE"/>
      <define name="ADC_CHANNEL_VSUPPLY" value="ADC_1"/> -->

      <module name="current_sensor">
        <configure name="USE_ADC_2" value="TRUE"/>
        <configure name="ADC_CURRENT_SENSOR" value="ADC_2"/>
      </module>

 <!--  for V/C modules since defaults should be correct but additional more accurate current sensor can be used -->
<!--      <configure name="USE_ADC_2" value="TRUE"/>-->
<!--      <define name="ADC_CHANNEL_VSUPPLY" value="ADC_1"/>-->
<!--     <module name="current_sensor">-->
<!--        <define name="CURRENT_ESTIMATION_NONLINEARITY" value="1.05"/>-->
<!--      </module>-->

<!--      <define name="ADC_CURRENT_DISABLE" value="TRUE"/>-->

<!--        <configure name="USE_ADC_3" value="TRUE"/>-->
<!--        <configure name="USE_ADC_5" value="TRUE"/>-->
<!--        <module name="adc_generic">-->
<!--          <define name="ADC_CHANNEL_GENERIC_NB_SAMPLES" value=""/>-->
<!--        <configure name="USE_ADC_4" value="TRUE"/>-->
<!--        <configure name="ADC_CHANNEL_GENERIC1" value="ADC_5"/>-->
<!--        <configure name="ADC_CHANNEL_GENERIC2" value="ADC_5"/>-->
<!--        <configure name="ADC_CHANNEL_GENERIC2" value="RSSI_IN"/>-->
<!--        <configure name="ADC_CHANNEL_GENERIC2" value="ADC_4"/>-->
<!--        <define name="ADC_GENERIC_PERIODIC_SEND" value="FALSE"/>-->
<!--      </module>-->

      <module name="actuators" type="pwm"/>

      <!-- For this T4 stuff to work, one needs a T4 Actuator Board connected to your flightcontroller
       See: https://github.com/tudelft/t4_actuators_board how to make one -->
      <module name="actuators" type="t4"/>

      <!-- UART8 is Labeled GPS2 on OrangeCubePlus and used as T4 UART intercommunication port -->
      <module name="actuators_t4_uart">
        <configure name="ACTUATORS_T4_PORT" value="UART8"/>
        <configure name="ACTUATORS_T4_BAUD" value="B921600"/>
      </module>


      <module name="mag" type="rm3100">
        <define name="USE_I2C2"/>
        <!-- <configure name="MAG_RM3100_PERIODIC_FREQUENCY" value="125"/> -->
        <configure name="MAG_RM3100_I2C_DEV" value="i2c2"/>
        <!-- <define name="MODULE_RM3100_UPDATE_AHRS" value="FALSE"/> -->
        <define name="RM3100_CHAN_X" value="1"/>
        <define name="RM3100_CHAN_Y" value="0"/>
        <define name="RM3100_CHAN_Z" value="2"/>
        <define name="RM3100_CHAN_X_SIGN" value="-"/>
        <define name="RM3100_CHAN_Y_SIGN" value="+"/>
        <define name="RM3100_CHAN_Z_SIGN" value="-"/>
        <!-- <configure name="MODULE_RM3100_SYNC_SEND" value="TRUE"/> -->
        <!-- <define name="DATA_RATE" value="RM3100_RATE_600"/> -->
      </module>

      <module name="airspeed" type="sdp3x">
        <define name="SDP3X_I2C_DEV" value="i2c2"/>
        <!-- <define name="SDP3X_I2C_ADDR" value=""/> --> <!-- 0x50 is the deafault address -->
        <!-- <define name="SDP3X_PRESSURE_SCALE" value="1.0"/> --> <!-- pressure scaling factor to convert raw output to Pa (default: set according to pressure range and output type according to datasheet) -->
        <!-- <define name="SDP3X_PRESSURE_OFFSET" value="0.0"/>--> <!-- pressure offset in Pa (default: set according to pressure range and output type according to datasheet) -->
        <!-- <define name="SDP3X_AIRSPEED_SCALE" value="1.6327"/> --> <!-- quadratic scale factor to convert differential pressure to airspeed" -->
        <define name="SDP3X_LOWPASS_TAU" value="0.07"/>
        <define name="USE_AIRSPEED_SDP3X" value="TRUE"/>
        <define name="USE_AIRSPEED" value="TRUE"/>
        <define name="SDP3X_PRESSURE_SCALE" value="SDP3X_SCALE_PRESSURE_SDP33"/>
        <!--<define name="SDP3X_SYNC_SEND" value="TRUE"/>--> <!-- Only enable when debuggging -->
      </module>

      <!-- UART4 is labeled GPS1 on OrangeCubePlus -->
      <!-- The GNSS GPS1 is in the tail of this aircraft -->
      <module name="gps" type="ublox">
        <configure name="GPS_PORT" value="UART4"/>
        <configure name="GPS_BAUD" value="B460800"/>

        <!-- Another GNSS receiver DIRECTLY connected RX<>TX to GPS1 to get RTK heading -->
        <define name="USE_GPS_UBX_RTCM" value="TRUE"/>
        <define name="GPS_UBX_RTK_REJECT_HEADING_BY_POSLENGTH" value="TRUE"/>
        <define name="GPS_UBX_RTK_MIN_POSLENGTH" value="50"/>
        <define name="GPS_UBX_RTK_MAX_POSLENGTH" value="90"/>
        <define name="GPS_UBX_RTK_HEADING_OFFSET" value="180"/>
      </module>

      <module name="radio_control" type="sbus"> 
        <configure name="SBUS_PORT" value="UART3"/> <!-- UART3 is Labeled Telem2 -->
        <define name="RADIO_CONTROL_NB_CHANNEL" value="16"/> 
        <define name="RADIO_LIGHTS" value="RADIO_AUX2"/>
        <define name="RADIO_GEAR" value="RADIO_AUX3"/>
        <define name="RADIO_FLAP" value="RADIO_AUX4"/>
        <define name="RADIO_BRAKE" value="RADIO_AUX5"/>
        <define name="RADIO_MANUALRELEASE" value="RADIO_AUX6"/>
      </module>

            <!-- Only enable with a module that supports v_ctl_auto_airspeed_setpoint-->
      <!--<module name="flight_benchmark">
        <define name="BENCHMARK_AIRSPEED" value="TRUE"/>
        <define name="BENCHMARK_ALTITUDE" value="TRUE"/>
        <define name="BENCHMARK_POSITION" value="TRUE"/>
        <define name="BENCHMARK_TOLERANCE_AIRSPEED" value="1" unit="m/s"/>
        <define name="BENCHMARK_TOLERANCE_ALTITUDE" value="4" unit="m"/>
        <define name="BENCHMARK_TOLERANCE_POSITION" value="6" unit="m"/>
      </module>-->

      <module name="telemetry" type="transparent">
        <!-- <configure name="MODEM_PORT" value="usb_serial"/>--> <!-- USB connector for desktest -->
        <!-- When NOT debugging via USB use one below -->
        <configure name="MODEM_PORT" value="UART2"/> <!--  UART2 is Telem1 port on OrangeCubePlus -->
        <configure name="MODEM_BAUD" value="B57600"/> <!-- SiK Modem baudrate -->
        <!-- <configure name="MODEM_BAUD" value="B115200"/> --> <!-- Herelink baudrate -->
        <!-- <configure name="MODEM_BAUD" value="B230400"/> --> <!-- Wifi module baudrate-->
      </module>

      <!-- SD card logging -->
      <!-- 
      <module name="tlsf"/>
      <module name="pprzlog"/>
      <module name="logger" type="sd_chibios">
      <define name="SDLOG_START_DELAY" value="5" unit="s"/>
      </module>
      -->

      <!-- use the paprazzi/sd2log tool to convert log to be able to use in logplotter as normal -->
      <!-- <module name="flight_recorder"/> -->
      <!-- <define name="SDLOG_AUTO_FLUSH_PERIOD" value="1" unit="s"/>-->

      <!-- Below example of what to add to your telemetry_something.xml file
      <process name="FlightRecorder">
        <mode name="default">
          <message name="FBW_STATUS"          period="1.2"/>
          <message name="DL_VALUE"            period="0.5"/>
          <message name="IMU_ACCEL"           period="0.05"/>
          <message name="IMU_GYRO"            period="0.05"/>
          <message name="IMU_MAG"             period="0.1"/>
          <message name="IMU_ACCEL_RAW"       period="0.002"/>
          <message name="IMU_GYRO_RAW"        period="0.002"/>
          <message name="IMU_MAG_RAW"         period="0.002"/>
          <message name="COMMANDS"            period=".002"/>
        </mode>
      </process>
      -->

      <!-- AOA on T4 Board created from a modified Serial Bus Servo, see T4 documentation on howto -->
      <!-- Do not forget to calibrate it for your own specific airframe scenario -->
      <!-- TODO: calibrate neutral AOA and SSA angles even better -->
      <module name="aoa_t4">
        <!-- Angle Of Attack sensor -->
        <define name="AOA_T4_SERVO_ID" value="9"/>
        <define name="AOA_T4_ANGLE_OFFSET" value="0.0"/> <!-- Because of the sensor cable not fitting we had to mount it 180 deg clockwise -->
        <define name="AOA_T4_OFFSET" value="0.0" unit="rad"/><!-- about 4deg offset of our vane irt the servo sensor -->
        <define name="AOA_T4_REVERSE" value="FALSE"/>
        <define name="AOA_T4_USE_FILTER" value="TRUE"/>
        <define name="AOA_T4_FILTER" value="0.11"/>
        <define name="AOA_T4_USE_COMPENSATION" value="FALSE"/>
        <define name="AOA_T4_COMP_A1" value="0"/>
        <define name="AOA_T4_COMP_B1" value="0.0"/>
        <define name="AOA_T4_COMP_A2" value="-0.31"/>
        <define name="AOA_T4_COMP_B2" value="0"/>
        <!-- Sideslip Angle sensor -->
        <define name="SSA_T4_SERVO_ID" value="10"/>
        <define name="SSA_T4_ANGLE_OFFSET" value="0.0"/> <!-- 0 Deg rotation needed -->
        <define name="SSA_T4_OFFSET" value="0.0"/><!-- Lucky us, just mounted the SSA sensor almost perfectly -->
        <define name="SSA_T4_REVERSE" value="FALSE"/>
        <define name="SSA_T4_USE_FILTER" value="TRUE"/>
        <define name="SSA_T4_FILTER" value="0.20"/>
        <define name="USE_SIDESLIP" value="TRUE"/>
        <!--<define name="AOA_T4_SYNC_SEND" value="TRUE"/>--><!-- For debugging enable this -->
      </module>

      <!-- not only measure but also used in control -->
      <!-- <define name="USE_AOA" value="TRUE"/> -->

      <module name="sys_mon"/>

      <!--
      <module name="shell">
        <configure name="SHELL_PORT" value="usb_serial_debug"/>
      </module>
      -->

    </target>

    <!--Enable after FBW is fixed in master -->
    <!-- <target name="fbw" board="px4io_2.4">
      <configure name="PERIODIC_FREQUENCY" value="200"/>
      <module name="radio_control" type="ppm">
      </module>

      <module name="actuators" type="pwm">
        <define name="SERVO_HZ" value="200" />
      </module>

      <module name="actuators" type="t4"/>

      <define name="RC_LOST_FBW_MODE" value="FBW_MODE_AUTO" />
      <define name="RC_LOST_IN_AUTO_FBW_MODE" value="FBW_MODE_AUTO" />
      <define name="AP_LOST_FBW_MODE" value="FBW_MODE_FAILSAFE" />
      <define name="INTERMCU_LOST_CNT" value="100" />

      <module name="intermcu" type="uart">
        <configure name="INTERMCU_PORT" value="UART2" />
        <configure name="INTERMCU_BAUD" value="B1500000" />
      </module>

      <module name="telemetry" type="transparent">
        <configure name="MODEM_PORT" value="$(INTERMCU_PORT)"/>
        <configure name="MODEM_BAUD" value="$(INTERMCU_BAUD)"/>
      </module>
      <define name="RADIO_TH_HOLD" value="RADIO_AUX1"/>
    </target> -->

    <target name="sim" board="pc">
      <define name="INS_BARO_ID" value="BARO_SIM_SENDER_ID"/>
      <configure name="AHRS_PROPAGATE_FREQUENCY" value="500"/>
      <module name="radio_control" type="ppm"/>
      <define name="RADIO_LIGHTS" value="RADIO_AUX2"/>
      <define name="RADIO_GEAR" value="RADIO_AUX3"/>
      <define name="RADIO_FLAP" value="RADIO_AUX4"/>
      <define name="RADIO_BRAKE" value="RADIO_AUX5"/>
      <define name="RADIO_MANUALRELEASE" value="RADIO_AUX6"/>
      <module name="telemetry" type="transparent"/>
      <!-- <module name="imu" type="sim"/>
      <module name="baro_sim"/>
      <module name="gps" type="ublox"/>-->

      <module name="actuators" type="t4"/>
      <!-- T4 Actuators Board connected to serial port on computer for simulation desk testing-->
      <module name="actuators_t4_uart">
        <configure name="ACTUATORS_T4_PORT" value="UART4"/>
        <configure name="ACTUATORS_T4_BAUD" value="B921600"/>
      </module>

    </target>

    <!-- Not only measure but also use in control -->
    <define name="USE_AIRSPEED" value="TRUE"/>

    <define name="RADIO_CONTROL_AUTO1"/>

    <define name="AGR_CLIMB"/>
    <define name="TUNE_AGRESSIVE_CLIMB"/>

    <define name="STRONG_WIND"/>
    <define name="WIND_INFO"/>
    <define name="WIND_INFO_RET"/>

    <define name="autopilot_motors_on" value="TRUE"/>

    <configure name="USE_BARO_BOARD" value="TRUE"/>
    <configure name="BARO_PERIODIC_FREQUENCY" value="50"/>
    <define name="USE_BARO_MEDIAN_FILTER"/>

    <define name="AUTOPILOT_DISABLE_AHRS_KILL"/>

    <define name="BAT_CHECKER_DELAY" value="80"/>
    <define name="CATASTROPHIC_BATTERY_KILL_DELAY" value="410"/>
    <!-- <define name="AHRS_TRIGGERED_ATTITUDE_LOOP"/> -->
    <define name="USE_AHRS_GPS_ACCELERATIONS" value="FALSE"/>
    <!-- <define name="USE_MAGNETOMETER_ONGROUND" value="FALSE"/> -->
    <!--<configure name="USE_MAGNETOMETER" value="TRUE"/>-->

    <module name="ahrs" type="float_cmpl_quat">
      <!-- <configure name="AHRS_ALIGNER_LED" value="2"/> -->
      <define name="AHRS_GPS_SPEED_IN_NEGATIVE_Z_DIRECTION" value="FALSE"/>
      <define name="AHRS_GRAVITY_HEURISTIC_FACTOR" value="0.0"/>
      <!-- <define name="AHRS_GRAVITY_UPDATE_COORDINATED_TURN" value="TRUE"/> --><!-- TRUE per default -->
      <!-- <define name="AHRS_HEADING_UPDATE_GPS_MIN_SPEED" value="1.0"/> -->
      <!-- <define name="AHRS_FC_OUTPUT_ENABLED" value="FALSE"/> -->
      <!-- <define name="AHRS_FC_IS_WITH_EKF2" value="TRUE"/> -->
     <!-- Choose which sensors to use in the INS -->
      <define name="AHRS_FC_IMU_ID" value="IMU_CUBE2_ID"/>
      <define name="AHRS_FC_ACCEL_ID" value="IMU_CUBE2_ID"/>
      <define name="AHRS_FC_GYRO_ID" value="IMU_CUBE2_ID"/> 
      <!-- <define name="AHRS_FC_MAG_ID" value="MAG_RM3100_SENDER_ID"/> --><!-- temporary disabled -->

      <!-- <define name="INS_MAG_ID"          value="MAG_RM3100_SENDER_ID"/> -->
      <define name="INS_IMU_ID"          value="IMU_CUBE2_ID"/> 
      <define name="INS_GYRO_ID"         value="IMU_CUBE2_ID"/>
      <define name="INS_ACCEL_ID"        value="IMU_CUBE2_ID"/>
      <!--Only send gyro and accel that is being used-->
      <define name="IMU_GYRO_ABI_SEND_ID"     value= "IMU_CUBE2_ID"/>
      <define name="IMU_ACCEL_ABI_SEND_ID"    value= "IMU_CUBE2_ID"/>
    </module>

    <module name="ins" type="alt_float">
    <!-- <module name="ins" type="extended"> -->
       <define name="INS_PROPAGATE_FREQUENCY" value="500"/>
    </module>

    <module name="control" type="new"/>
    <module name="auto1_commands"/>

    <module name="geo_mag"/>
    <module name="air_data"/>

    <module name="navigation"/>

    <module name="nav" type="line"/>
    <module name="nav" type="line_border"/>
    <module name="nav" type="line_osam"/>
    <module name="nav" type="survey_polygon">
      <define name="POLYSURVEY_DEFAULT_DISTANCE" value="40"/>
    </module>
    <module name="nav" type="survey_poly_osam"/>
    <module name="nav" type="smooth"/>
    <module name="nav" type="vertical_raster"/>
    <module name="nav" type="flower"/>

    <!-- <module name="agl_dist">
      <define name="USE_SONAR"/>
    </module> -->

    <!--LAUNCH_PITCH 0.785398 rad   ABORT_PITCH -0.349066 rad -->
    <!--
    <module name="takeoff_detect">
      <define name="TAKEOFF_DETECT_LAUNCH_PITCH" value="RadOfDeg(55.)"/>
      <define name="TAKEOFF_DETECT_ABORT_PITCH" value="RadOfDeg(-25.)"/>
      <define name="TAKEOFF_DETECT_TIMER" value="1.2"/>
      <define name="TAKEOFF_DETECT_DISABLE_TIMER" value="6.0"/>
      <define name="TAKEOFF_DETECT_ALSO_IN_AUTO1" value="TRUE"/>
    </module>
    -->

    <module name="photogrammetry_calculator"/>
    <module name="traffic_info"/>
    <module name="tcas"/>

    <module name="tune_airspeed"/>

    <!-- <module name="px4_flash">
      <configure name="PX4IO_UART" value="UART7"/>
      <configure name="PX4IO_BAUD" value="B1500000" description="Baud rate for PX4IO flashing"/>
    </module> -->
    <!-- <define name="PX4_IO_FORCE_PROG" value="TRUE" /> -->

  </firmware>

    <!-- In degrees * 100, so e.g. -18000 mean negative 180.00 degreees, except for DShot based ESC -->
    <!-- If you restrict the servo to not go over a certain range, which is wise else the servo will push
     over the boundaries of what you control flap can do and my rip it of even
     You should also set the real angles in settings so if full delection would be 40deg, set it also in you min max values
     yes in deg * 100, so 45.7 deg deflection max would be a value of 4570
     If you do not know how to do this, a trick is to set a low value first and see if the servo is not pushing over the boundaries 
     then increase the value until you are sure it is just on max what is possible if given full contol surface deflection-->

     <!-- Flap differential is realized in amecanical way, arm to servo spine offset-->

  <servos driver="T4">
    <servo name="S_THROTTLE" no="13" min="230" neutral="250" max="1999"/> <!-- On T4 Board this is DShot ESC connection Nr 1-->
    <servo name="S_AILERON_LEFT" no="1" min="-5700" neutral="0" max="5700"/> <!-- 57.0 deg-->
    <servo name="S_FLAPPERON_LEFT" no="2" min="8500" neutral="500" max="-8500"/> <!-- 85.0 deg down 35.0 deg flap up --><!-- Flap differential is realized in amecanical way, arm to servo spine offset-->
    <servo name="S_FLAPPERON_RIGHT" no="3" min="8500" neutral="-250" max="-8500"/> <!-- 85.0 deg down 35.0 deg flap up --><!-- Flap differential is realized in amecanical way, arm to servo spine offset-->
    <servo name="S_AILERON_RIGHT" no="4" min="5700" neutral="0" max="-5700"/> <!-- 57.0 deg-->
    <servo name="S_HATCH" no="5" min="-6000" neutral="0" max="6000"/> <!-- 60.0deg open closed deg in servo group 1-5 wire to wing -->
    <servo name="S_ELEVATOR" no="6" min="-6000" neutral="0" max="6000"/> <!-- 60.0 deg up as well as down -->
    <servo name="S_RUDDER" no="7" min="3550" neutral="0" max="-3550"/> <!--35.5 deg left to 35.5 deg right-->
    <!-- note that servo ID 9 and 10 are used as AOA an SSA respectivly -->
    <servo name="S_ACL" no="11" min="-5500" neutral="3000" max="5500"/> <!-- Although PWM the angle is recalculated in those units -->
  </servos>

  <section name="ServoPositions">
    <!-- Just name a few, value can be used in e.g. flightplan -->
    <define name="LANDINGGEAR_EXTEND" value="-MAX_PPRZ"/>
    <define name="LANDINGGEAR_RETRACT" value="MAX_PPRZ"/>
    <define name="FLAP_FULL" value="-MAX_PPRZ"/>
    <define name="FLAP_HALF" value="-MAX_PPRZ/2"/>
    <define name="FLAP_NONE" value="0"/>
    <define name="BEACON_ROTATE" value="MAX_PPRZ"/>
    <define name="BEACON_FLASH" value="0"/>
    <define name="BEACON_OFF" value="-MAX_PPRZ"/>

    <define name="SERVO_BRAKE_FULL" value="-MAX_PPRZ"/>
    <define name="SERVO_HATCH_OPEN" value="0"/>
    <define name="SERVO_HATCH_CLOSED" value="-9600"/>
    <define name="AirbrakesOff()" value="(commands[COMMAND_BRAKE]=0)"/>
    <define name="AirbrakesOn()" value="(commands[COMMAND_BRAKE]=SERVO_BRAKE_FULL)"/>
    <!-- <define name="Fly()" value="(commands[COMMAND_FORCECRASH]=0)" /> -->
    <!-- <define name="ForceCrash()" value="(commands[COMMAND_FORCECRASH]=9600)" /> -->
    <define name="ThrottleHigh()" value="(commands[COMMAND_THROTTLE]>9600/2)"/>
    <define name="SPOILERON_BRAKE_FULL" value="-MAX_PPRZ"/>
    <define name="FLAPERON_BRAKE_FULL" value="MAX_PPRZ"/>
  </section>

  <section name="MIXER">
    <define name="ASSIST_ROLL_WITH_RUDDER" value="0.0"/>
    <define name="AILERON_DIFF" value="0.0"/>
    <define name="ELEVATOR_PITCH_FACTOR" value="0.99"/>
    <define name="BRAKE" value="0.6"/>
    <define name="BRAKE_ENABLED_SLOWDOWN_FACTOR_EXTEND" value="80"/>
    <define name="BRAKE_ENABLED_SLOWDOWN_FACTOR_RETRACT" value="420"/>
    <define name="BRAKE_MAX_PCT" value="0.7"/>
    <define name="BRAKE_PITCH_COMPENSATION" value="0.1"/>
  </section>

  <command_laws>
    <!-- Brake Slowdown -->
    <let var="brake_value_nofilt" value="Clip(-@BRAKE, 0, MAX_PPRZ)"/>
    <ratelimit var="brake_value" value="$brake_value_nofilt" rate_min="-BRAKE_ENABLED_SLOWDOWN_FACTOR_RETRACT" rate_max="BRAKE_ENABLED_SLOWDOWN_FACTOR_EXTEND"/>
    <let var="aileron" value="@ROLL"/>
    <let var="elevator" value="@PITCH * ELEVATOR_PITCH_FACTOR"/>
    <let var="crowbrake" value="$brake_value * BRAKE_MAX_PCT"/>
    <let var="flaps" value="@FLAP"/>
    <set servo="S_THROTTLE" value="@THROTTLE"/>
    <set servo="S_AILERON_LEFT" value="$aileron - $crowbrake"/>
    <set servo="S_FLAPPERON_LEFT" value="$flaps + $crowbrake"/>
    <set servo="S_FLAPPERON_RIGHT" value="-($flaps + $crowbrake)"/>
    <set servo="S_AILERON_RIGHT" value="-($aileron - $crowbrake)"/>
    <set servo="S_ELEVATOR" value="$elevator"/>
    <set servo="S_RUDDER" value="-@YAW - @ROLL*ASSIST_ROLL_WITH_RUDDER"/>
    <set servo="S_ACL" value="((autopilot.mode == AP_MODE_AUTO2) ? MIN_PPRZ : @ACTIVELIGHTS)"/> 
    <!-- <set servo="S_ACL" value="-@ACTIVELIGHTS"/> -->
  </command_laws>

  <rc_commands>
    <set command="THROTTLE" value="@THROTTLE"/>
    <set command="ROLL" value="@ROLL"/>
    <set command="PITCH" value="@PITCH"/>
    <set command="YAW" value="-@YAW"/>
    <set command="BRAKE" value="@BRAKE"/>
    <set command="FLAP" value="@FLAP"/>
    <set command="ACTIVELIGHTS" value="@LIGHTS"/>
  </rc_commands>

  <auto_rc_commands>
     <set command="YAW" value="-@YAW*0.8"/> <!-- TODO: Only for first testflights, disable later -->
     <!-- <set command="ACTIVELIGHTS" value="@YAW"/> -->
  </auto_rc_commands>

  <commands>
    <axis name="THROTTLE" failsafe_value="0"/>
    <axis name="ROLL" failsafe_value="400"/>
    <axis name="PITCH" failsafe_value="0"/>
    <axis name="YAW" failsafe_value="500"/>
    <axis name="FLAP" failsafe_value="0"/>
    <axis name="BRAKE" failsafe_value="0"/>
    <axis name="ACTIVELIGHTS" failsafe_value="0"/>
  </commands>

  <section name="AUTO1" prefix="AUTO1_">
    <define name="MAX_ROLL" value="60" unit="deg"/>
    <define name="MAX_PITCH" value="80" unit="deg"/>
  </section>

  <section name="TRIM" prefix="COMMAND_">
    <define name="ROLL_TRIM" value="0.0"/>
    <define name="PITCH_TRIM" value="0.0"/>
  </section>

  <section name="FAILSAFE" prefix="FAILSAFE_">
    <define name="DEFAULT_THROTTLE" value="0.0" unit="%"/>
    <define name="DEFAULT_GEAR" value="1100"/>
    <define name="DEFAULT_ROLL" value="8.0" unit="deg"/>
    <define name="DEFAULT_PITCH" value="-4.0" unit="deg"/>
    <define name="HOME_RADIUS" value="DEFAULT_CIRCLE_RADIUS" unit="m"/>
    <define name="KILL_MODE_DISTANCE" value="MAX_DIST_FROM_HOME*1.3+HOME_RADIUS" unit="m"/>
    <define name="DELAY_WITHOUT_GPS" value="5" unit="s"/>
  </section>

  <section name="IMU" prefix="IMU_">

    <!-- Factory default almost always better that if one would calibrate oneself, so commented out -->
    <!-- <define name="GYRO_P_SENS" value=" 1.01" integer="16"/> -->
    <!-- <define name="GYRO_Q_SENS" value=" 1.01" integer="16"/> -->
    <!-- <define name="GYRO_R_SENS" value=" 1.01" integer="16"/> -->
    <!-- <define name="GYRO_P_NEUTRAL" value="0"/> -->
    <!-- <define name="GYRO_Q_NEUTRAL" value="0"/> -->
    <!-- <define name="GYRO_R_NEUTRAL" value="0"/> -->

    <!-- TODO: calibrate ASAP -->
    <!-- <define name="ACCEL_X_NEUTRAL" value="0"/>
    <define name="ACCEL_Y_NEUTRAL" value="0"/>
    <define name="ACCEL_Z_NEUTRAL" value="0"/>
    <define name="ACCEL_X_SENS" value="4.90" integer="16"/>
    <define name="ACCEL_Y_SENS" value="4.90" integer="16"/>
    <define name="ACCEL_Z_SENS" value="4.90" integer="16"/> -->


    <!-- <define name="ACCEL_CALIB" value="{{.abi_id=20, .calibrated={.neutral=true, .scale=true},.neutral={-9,-6,-4}, .scale={{38883,41480,36505},{3968,4241,3726}}}, {.abi_id=22, .calibrated={.neutral=true, .scale=true},.neutral={-33,-9,11}, .scale={{36893,53565,3365},{7544,10964,689}}}}"/>  -->

    <!-- TODO: Set corrrect ASAP -->
    <define name="BODY_TO_IMU_PHI" value="0.4" unit="deg"/>
    <define name="BODY_TO_IMU_THETA" value="-0.6" unit="deg"/>
    <define name="BODY_TO_IMU_PSI" value="0.0" unit="deg"/>

    <!-- TODO: Calibrate -->
    <!-- 
    <define name="MAG_X_NEUTRAL" value="7"/>
    <define name="MAG_Y_NEUTRAL" value="76"/>
    <define name="MAG_Z_NEUTRAL" value="133"/>
    <define name="MAG_X_SENS" value="3.82579687604" integer="16"/>
    <define name="MAG_Y_SENS" value="3.6213651898" integer="16"/>
    <define name="MAG_Z_SENS" value="4.01635370187" integer="16"/> 
    -->

    <!-- TODO: Calibrate -->
    <!-- 
    <define name="MAG_X_CURRENT_COEF" value="-0.677655963532"/>
    <define name="MAG_Y_CURRENT_COEF" value="-7.38678178538"/>
    <define name="MAG_Z_CURRENT_COEF" value="-5.02116042576"/> 
    -->

    <!-- When build in differently to Rotate magneto compared to imu -90 degress -->
    <!--<define name="TO_MAG_PHI"   value="0." unit="deg"/>
    <define name="TO_MAG_THETA" value="0." unit="deg"/>
    <define name="TO_MAG_PSI"   value="90." unit="deg"/>-->

    <!-- Change sign to fix axis -->
    <!--<define name="MAG_X_SIGN" value="1"/>
    <define name="MAG_Y_SIGN" value="1"/>
    <define name="MAG_Z_SIGN" value="1"/>-->
  </section>

  <section name="AHRS" prefix="AHRS_">
    <!-- Local Magnetic field DE2023 -->
    <define name="H_X" value="0.413671"/>
    <define name="H_Y" value="-0.013374"/>
    <define name="H_Z" value="0.910328"/>
  </section>

  <section name="INS">
    <define name="INS_BODY_TO_GPS_X" value="0.70" unit="m"/>
    <define name="INS_BODY_TO_GPS_Y" value="0.0" unit="m"/>
    <define name="INS_BODY_TO_GPS_Z" value="0.06" unit="m"/>
    <!-- <define name="USE_INS_MODULE"/> -->
    <define name="ROLL_NEUTRAL_DEFAULT" value="0." unit="deg"/>
    <define name="PITCH_NEUTRAL_DEFAULT" value="0." unit="deg"/>
    <define name="USE_GPS_ALT" value="TRUE"/>
    <!--<define name="USE_GPS_ALT_SPEED" value="FALSE"/>-->
    <define name="VFF_R_GPS" value="0.08"/>
    <!--<define name="VFF_VZ_R_GPS" value="0.2"/>-->
    <define name="INS_SONAR_MAX_RANGE" value="6.0"/>
    <define name="INS_SONAR_MIN_RANGE" value="0.15"/>
  </section>

  <!--
  <section name="SONAR" prefix="SONAR_">
    <define name="USE_ADC_FILTER"/>
    <define name="MEDIAN_SIZE" value="15"/>
    <define name="COMPENSATE_ROTATION" value="TRUE"/>
    <define name="SCALE" value="0.0025375" integer="16"/>
    <define name="OFFSET" value="90.0"/>
    <define name="MAX_RANGE" value="6.0" unit="m"/>
    <define name="MIN_RANGE" value="0.15" unit="m"/>
  </section>
  -->

  <section name="AGL" prefix="AGL_DIST_SONAR_">
    <define name="ID" value="ABI_BROADCAST"/>
    <define name="MAX_RANGE" value="6." unit="m"/>
    <define name="MIN_RANGE" value="0.20" unit="m"/>
    <!--<define name="FILTER" value="0.5"/>-->
  </section>

  <section name="HORIZONTAL CONTROL" prefix="H_CTL_">
    <define name="COURSE_PGAIN" value="0.8"/>
    <define name="COURSE_DGAIN" value="0.05"/>
    <define name="COURSE_TAU" value="0.7"/>
    <define name="COURSE_PRE_BANK_CORRECTION" value="0.99"/>

    <define name="ROLL_MAX_SETPOINT" value="45" unit="deg"/>
    <define name="PITCH_MAX_SETPOINT" value="40" unit="deg"/>
    <define name="PITCH_MIN_SETPOINT" value="-40" unit="deg"/>

    <define name="PITCH_PGAIN" value="6000"/>
    <define name="PITCH_DGAIN" value="80"/>
    <define name="PITCH_IGAIN" value="6"/>
    <define name="PITCH_KFFA" value="5."/>
    <define name="PITCH_KFFD" value="0."/>

    <define name="ELEVATOR_OF_ROLL" value="1500" unit="PPRZ_MAX"/>
    <define name="ROLL_SLEW" value="0.2"/>
    <define name="ROLL_ATTITUDE_GAIN" value="11000."/>
    <define name="ROLL_RATE_GAIN" value="500."/>
    <define name="ROLL_IGAIN" value="20."/>
    <define name="ROLL_KFFA" value="10."/>
    <define name="ROLL_KFFD" value="0."/>

  </section>

  <!--  We have value of Classic as well as ETECS, this since airframe is first flown "Classic" then ETECS, makes tunng a bit easier
   It is NOT (yet?) switchable on the fly in flight -->

  <section name="VERTICAL CONTROL" prefix="V_CTL_">
    <!-- power -->
    <define name="POWER_CTL_BAT_NOMINAL" value="14.8" unit="volt"/>

    <!-- Classic -->
    <!-- outer loop proportional gain -->
    <define name="ALTITUDE_PGAIN" value="0.05"/> <!--unit="(m/s)/m"-->
    <!-- disable climb rate limiter -->
    <define name="AUTO_CLIMB_LIMIT" value="1.7*V_CTL_ALTITUDE_MAX_CLIMB"/>
    <!-- auto throttle -->
    <!-- Cruise throttle + limits -->
    <define name="AUTO_THROTTLE_MIN_CRUISE_THROTTLE" value="0.45" unit="%"/>  
    <define name="AUTO_THROTTLE_NOMINAL_CRUISE_THROTTLE" value="0.6" unit="%"/> 
    <define name="AUTO_THROTTLE_MAX_CRUISE_THROTTLE" value="0.85" unit="%"/>

    <define name="AUTO_THROTTLE_LOITER_TRIM" value="1000" unit="pprz_t"/>
    <define name="AUTO_THROTTLE_DASH_TRIM" value="-2000" unit="pprz_t"/>

    <define name="AUTO_THROTTLE_CLIMB_THROTTLE_INCREMENT" value="0.30" unit="%/(m/s)"/> 

    <!-- Climb loop (throttle) -->
    <define name="AUTO_THROTTLE_PGAIN" value="0.01" unit="%/(m/s)"/>
    <define name="AUTO_THROTTLE_IGAIN" value="0.001"/>
    <define name="AUTO_THROTTLE_DGAIN" value="0.001"/>
    <define name="AUTO_THROTTLE_PITCH_OF_VZ_PGAIN" value="0.01" unit="rad/(m/s)"/> 
    <define name="AUTO_THROTTLE_NOMINAL_CRUISE_PITCH" value="0." unit="rad"/> <!-- default 0 -->

    <define name="THROTTLE_SLEW_LIMITER" value="0.8" unit="m/s/s"/>  <!-- Limiter for e.g. a powerful motor -->

    <!-- airspeed control -->
    <!-- Best to never set AUTO_AIRSPEED_SETPOINT lower than airframe stall speed if you hate repairs ;) -->
    <!-- investigate: howto if higher then _AIRSPEED_SETPOINT then airframe tries to maintain a constand ground speed UNKNOWN -->
    <define name="AUTO_AIRSPEED_SETPOINT" value="12.0" unit="m/s"/>
    <define name="AUTO_AIRSPEED_THROTTLE_PGAIN" value="0.07" unit="%/(m/s)"/>
    <define name="AUTO_AIRSPEED_THROTTLE_DGAIN" value="0.06"/>
    <define name="AUTO_AIRSPEED_THROTTLE_IGAIN" value="0.002"/>
    <define name="AUTO_AIRSPEED_PITCH_PGAIN" value="0.12" unit="degree/(m/s)"/>
    <define name="AUTO_AIRSPEED_PITCH_DGAIN" value="0.001"/>
    <define name="AUTO_AIRSPEED_PITCH_IGAIN" value="0.02"/>

    <define name="AIRSPEED_MAX" value="18.0" unit="m/s"/>
    <define name="AIRSPEED_MIN" value="7.0" unit="m/s"/>

    <!-- pitch trim -->
    <define name="PITCH_LOITER_TRIM" value="0.5" unit="deg"/> <!-- Non ETECS -->
    <define name="PITCH_DASH_TRIM" value="0." unit="deg"/> <!-- Non ETECS -->

    <!-- groundspeed control -->
    <define name="AUTO_GROUNDSPEED_SETPOINT" value="6.0" unit="m/s"/>
    <define name="AUTO_GROUNDSPEED_PGAIN" value="0.8"/>
    <define name="AUTO_GROUNDSPEED_IGAIN" value="0.2"/>

    <define name="AIRSPEED_PGAIN" value="0.15"/>

    <!-- outer loop saturation -->
    <define name="ALTITUDE_MAX_CLIMB" value="1.0" unit="m/s"/>
    <define name="MAX_ACCELERATION" value="0.8" unit="G"/>

    <!-- Only for control classic as in not new or enegry etc.-->
    <define name="AUTO_AIRSPEED_PGAIN" value="0.18" unit="%/(m/s)"/>
    <define name="AUTO_AIRSPEED_IGAIN" value="0.2"/>

    <!-- auto pitch inner loop -->

    <!-- Climb loop (pitch) -->
    <define name="AUTO_PITCH_PGAIN" value="0.015"/> 
    <define name="AUTO_PITCH_DGAIN" value="0.01"/>   
    <define name="AUTO_PITCH_IGAIN" value="0.001"/> 
    <!--define name="AUTO_PITCH_CLIMB_THROTTLE_INCREMENT" value="0.14"/-->
    <define name="AUTO_PITCH_MAX_PITCH" value="30" unit="deg"/>
    <define name="AUTO_PITCH_MIN_PITCH" value="-30" unit="deg"/>

    <!-- ============= ETECS ============= -->
    <define name="ENERGY_TOT_PGAIN" value="0.35"/> 
    <define name="ENERGY_TOT_IGAIN" value="0.20"/> 
    <define name="ENERGY_DIFF_PGAIN" value="0.40"/> 
    <define name="ENERGY_DIFF_IGAIN" value="0.10"/> 

    <define name="GLIDE_RATIO" value="8."/>

    <define name="AUTO_THROTTLE_OF_AIRSPEED_PGAIN" value="0.06"/>
    <define name="AUTO_THROTTLE_OF_AIRSPEED_IGAIN" value="0.01"/>

    <define name="AUTO_PITCH_OF_AIRSPEED_PGAIN" value="0.01"/> 
    <define name="AUTO_PITCH_OF_AIRSPEED_IGAIN" value="0.003"/> 
    <define name="AUTO_PITCH_OF_AIRSPEED_DGAIN" value="0.03"/> 
  </section>

  <section name="AGGRESSIVE" prefix="AGR_">
    <define name="BLEND_START" value="20" unit="m"/>
    <define name="BLEND_END" value="10" unit="m"/>
    <define name="CLIMB_THROTTLE" value="0.85" unit="%"/>
    <define name="CLIMB_PITCH" value="45" unit="deg"/>
    <define name="DESCENT_THROTTLE" value="0.4" unit="%"/>
    <define name="DESCENT_PITCH" value="-35" unit="deg"/>
    <define name="CLIMB_NAV_RATIO" value="0.6" unit="%"/>
    <define name="DESCENT_NAV_RATIO" value="0.9" unit="%"/>
  </section>

   <!-- Using a modern 4S2P Li-Ion pack 4 x 4.2V = 16.8V -->
  <section name="BAT">
    <define name="MilliAmpereOfAdc(adc)" value="(float)(adc) * 50.55"/><!-- Note that at low current the default powerbrick ksensor used is not accurate -->
    <define name="VoltageOfAdc(adc)" value="((3.3f/4096.0f) * 0.771363 * adc)"/>
    <define name="MAX_BAT_CAPACITY" value="11000" unit="mAh"/>
    <define name="MILLIAMP_AT_IDLE_THROTTLE" value="600" unit="mA"/>
    <define name="MILLIAMP_AT_FULL_THROTTLE" value="30000" unit="mA"/>
    <define name="CURRENT_ESTIMATION_NONLINEARITY" value="1.02"/>
    <!--<define name="BAT_NB_CELLS" value="4"/> -->
    <define name="MAX_BAT_LEVEL" value="16.8" unit="V"/>
    <define name="LOW_BAT_LEVEL" value="14.4" unit="V"/>
    <define name="CRITIC_BAT_LEVEL" value="12.8" unit="V"/>
    <define name="CATASTROPHIC_BAT_LEVEL" value="10.8" unit="V"/>
  </section>

  <section name="MISC">
    <define name="MINIMUM_AIRSPEED" value="11." unit="m/s"/>
    <define name="NOMINAL_AIRSPEED" value="16." unit="m/s"/>
    <define name="MAXIMUM_AIRSPEED" value="22." unit="m/s"/>
    <define name="CLIMB_AIRSPEED" value="14." unit="m/s"/>
    <define name="TRACKING_AIRSPEED" value="20." unit="m/s"/>
    <define name="GLIDE_AIRSPEED" value="11" unit="m/s"/>
    <define name="STALL_AIRSPEED" value="10." unit="m/s"/>
    <define name="RACE_AIRSPEED" value="22." unit="m/s"/>
    <define name="MIN_SPEED_FOR_TAKEOFF" value="12." unit="m/s"/>
    <define name="AIRSPEED_SETPOINT_SLEW" value="0.3" unit="m/s/s"/>

    <define name="TAKEOFF_PITCH_ANGLE" value="30" unit="deg"/>
    <define name="FLARE_PITCH_ANGLE" value="8" unit="deg"/>
    <define name="NAV_GLIDE_PITCH_TRIM" value="0.0" unit="deg"/>

    <define name="KILL_MODE_DISTANCE" value="MAX_DIST_FROM_HOME*1.3+HOME_RADIUS" unit="m"/>
    <define name="DEFAULT_CIRCLE_RADIUS" value="80.0" unit="m"/>
    <define name="HOME_RADIUS" value="DEFAULT_CIRCLE_RADIUS" unit="m"/>
    <define name="LANDING_CIRCLE_RADIUS" value="70.0" unit="m"/>
    <define name="MIN_CIRCLE_RADIUS" value="70.0" unit="m"/>

    <define name="CARROT" value="5.0" unit="s"/>

    <define name="UNLOCKED_HOME_MODE" value="TRUE"/>
    <define name="RC_LOST_MODE" value="AP_MODE_AUTO2"/>

    <define name="NO_XBEE_API_INIT" value="TRUE"/>

    <!-- Avoid GPS loss behavior when having RC or datalink -->
    <define name="NO_GPS_LOST_WITH_DATALINK_TIME" value="50"/>
    <define name="NO_GPS_LOST_WITH_RC_VALID" value="TRUE"/>
  </section>

  <section name="PHOTOGRAMMETRY" prefix="PHOTOGRAMMETRY_">
    <define name="FOCAL_LENGTH" value="2.5" unit="mm"/>
    <define name="SENSOR_WIDTH" value="2.304" unit="mm"/>
    <define name="SENSOR_HEIGHT" value="1.728" unit="mm"/>
    <define name="PIXELS_WIDTH" value="320"/>

    <!-- Photogrammetry Parameters. Can also be defined in a flightplan instead -->
    <!--
    <define name="OVERLAP" value="0.3" unit="%"/>
    <define name="SIDELAP" value="0.2" unit="%"/>
    <define name="RESOLUTION" value="50" unit="mm pixel projection"/>
    -->
    
    <!-- note: only for PHOTOGRAMMETRY-->
    <define name="HEIGHT_MIN" value="50." unit="m"/>
    <define name="HEIGHT_MAX" value="120." unit="m"/>
    <define name="RADIUS_MIN" value="70." unit="m"/>
  </section>

  <section name="AIR_DATA" prefix="AIR_DATA_">
    <define name="CALC_AIRSPEED" value="TRUE"/>
    <define name="CALC_TAS_FACTOR" value="FALSE"/>
    <define name="CALC_AMSL_BARO" value="TRUE"/>
  </section>

  <section name="GLS_APPROACH" prefix="APP_">
    <define name="DISTANCE_AF_SD" value="30" unit="m"/>
    <define name="ANGLE" value="4" unit="deg"/>
    <define name="INTERCEPT_AF_SD" value="80" unit="m"/>
    <!--<define name="INTERCEPT_RATE" value="0.624" unit="m/s/s"/>-->
    <define name="TARGET_SPEED" value="NOMINAL_AIRSPEED*1.1" unit="m/s"/>
  </section>

  <section name="GCS">
    <define name="SPEECH_NAME" value="Seal Evo"/>
    <define name="AC_ICON" value="fixedwing"/>
    <define name="ALT_SHIFT_PLUS_PLUS" value="50" unit="m"/>
    <define name="ALT_SHIFT_PLUS" value="10" unit="m"/>
    <define name="ALT_SHIFT_MINUS" value="-10" unit="m"/>
  </section>

  <section name="TCAS" prefix="TCAS_">
    <define name="TAU_TA" value="6." unit="s"/>
    <define name="TAU_RA" value="4." unit="s"/>
    <define name="ALIM" value="12." unit="m"/>
    <define name="DMOD" value="14." unit="m"/>
    <define name="DT_MAX" value="1500" unit="ms"/>
  </section>

  <section name="SIMU">
    <define name="JSBSIM_LAUNCHSPEED" value="NOMINAL_AIRSPEED" unit="m/s"/>
    <define name="WEIGHT" value="1."/>
    <define name="JSBSIM_IR_ROLL_NEUTRAL" value="RadOfDeg(0.0)"/>
    <define name="JSBSIM_IR_PITCH_NEUTRAL" value="RadOfDeg(0.0)"/>
    <define name="YAW_RESPONSE_FACTOR" value="0.9"/>
    <define name="PITCH_RESPONSE_FACTOR" value="1.0"/>
    <define name="ROLL_RESPONSE_FACTOR" value="20.0"/>
  </section>

  <section name="SIMULATOR" prefix="NPS_">
    <define name="JSBSIM_LAUNCHSPEED" value="NOMINAL_AIRSPEED"/>
    <define name="JSBSIM_MODEL" value="YardStik" type="string"/>
    <!--<define name="JSBSIM_MODEL" value="OPENUAS/simple_fixedwing" type="string"/>-->
    <define name="COMMANDS_NB" value="4"/>
    <define name="ACTUATOR_NAMES" value="throttle-cmd-norm, aileron-cmd-norm, elevator-cmd-norm, rudder-cmd-norm" type="string[]"/>
    <!--<define name="SENSORS_PARAMS" value="nps_sensors_params_default.h" type="string"/>-->
    <define name="JS_AXIS_MODE" value="4"/>
    <define name="BYPASS_AHRS" value="TRUE"/>
    <define name="BYPASS_INS" value="TRUE"/>
  </section>

</airframe>
