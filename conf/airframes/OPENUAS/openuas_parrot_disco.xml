<!DOCTYPE airframe SYSTEM "../airframe.dtd">
<airframe name="Disco">
  <description>
* Parrot Disco Fixedwing (https://www.openuas.org/airframes/)
+ Airframe to validate all onboard functionally...
  Parrot Disco
     + Autopilot:   Default Parrot C.H.U.C.K.
     + Actuators:   Default Disco servos
     + GPS:         Default uBlox M8N GNSS
     + AIRSPEED:    Default MS4515DO
     + TELEMETRY:   Default WiFi
     + CURRENT:     Build in current sensing
     + RC RX:       Added a Spektrum DSMX Orange RX620R Receiver with SBUS out, can be any receiver ofcourse

 NOTES:
     + It flies well but still not all gains are tunde to optimum, WIP
     + Hey, calibrate your magneto! Yes, you too ;)
     + https://fccid.io/2AG6I-DISCO
     + Uses PAPARAZZI "standard" radio channel settings, see TU Delft Devo 10 output
     + One could make a flightplan mimicing exact default behaviour of Parrot assisted flight
     + Tested with Firmware v1.4.1 v1.7.0, v1.7.1
     + Can use Enhanced Total Energy Control System as control loop in Final AC, not tuned just yet
     + Flash the firmware via WiFi or USB
     + Enlarged battery bay ,and option fit a 5200 mAh 3S battery. The all-up weight (AUW)) of the airframe will be  ~150g more
       Center of gravity still the same, flighttime doubles...
     + Regular Telemetry is possible via USB to FTDI serial to Modem, added kernel drivers in another OpenUAS project
     + Bottom camera can used just for some mapping, not high resolution but still fun...
     + The Parrot C.H.U.C.K. can be removed and placed in a regular plane also

 ETECS:
     If flying "Classic" (as in not ETECS..) make sure to disable the settings/estimation/ac_char
     Set the define USE_AIRSPEED should be set to FALSE for the first without airspeed in loop tests
     Use also flightplan Versatile if no airspeed sensor is ues and use
     flightplan versatile_airspeed only with enabled airspeed sensor

 WIP:
     + The front cam is not yet supported with internal, succes video recording already with and external process
     + Sonar needs some TLC and then put to good use, eg, landing

 RC:
     The Receiver R620R make sure to set modeswitch to Auto2 on your TX when binding!
     else if one would lose RC or switch of transmitter during Auto2 flight, it will hop to manual.. very bad...
     This receiver probbably does not set the SBus lost frames bits correctly sadly. Well it is cheap and has diversity

     A PPM receiver could theoretically be used, only for Linux ARCH no software to handle it is written (hint!)
     SUMD also. For the PPRZ Spektum could also, but not if you also want to fly it with RC but without PPRZ as AP only original
     since Spektrum serial is not handled by the Parrot main AP

     The setup ot Transmitter is in such a way that one could fly without PPRC just Parrot with a 3rd party transmitter
     Thus modeswitch on 5 for well.. mode

     TX Channel Nr  Function                        Control type        Comments
     1              Roll                            Stick
     2              Pitch                           Stick
     3              Throttle                        Stick
     4              Yaw                             Stick               Used to set the Disco in loiter
     5              Gear                            3-position switch   Used to configure the piloting mode:
                      Auto-pilot with Parrot SkyController2 (Risky so better limit this one exept if you teaching people to fly with Skycontroller student AND RCTX for teacher )
                      Auto-pilot with RC controller
                      Full manual with RC controller
     6              Automatic Take-off/Landing      2-position trainer switch Used in “Auto-pilot with RC controller” mode
                    Start: SWx    Landing: SWy
                    Motor off in manual mode    SW?
  </description>
  <firmware name="fixedwing">
<!-- ********************** For in the real flying hardware ********************-->
    <target name="ap" board="disco">

      <!-- WIP: Front Camera parameters -->
      <define name="H264_ROTATE" value="TRUE"/>
      <define name="MT9F002_INITIAL_OFFSET_X" value="416+2704-480"/> <!-- 480 / 960 / 1920 / 3840 (horion for theta = 0 -> 2704) -->
      <define name="MT9F002_INITIAL_OFFSET_Y" value="1680-1040"/> <!-- 420 / 840 / 1680 / 3360 -->
      <define name="MT9F002_SENSOR_WIDTH" value="2*480"/> <!-- 480 / 960 / 1920 / 3840 -->
      <define name="MT9F002_SENSOR_HEIGHT" value="2*1040"/> <!-- 420 / 840 / 1680 / 3360 -->
      <define name="MT9F002_OUTPUT_WIDTH" value="240"/> <!-- 480 / 960 / 1920 / 3840 -->
      <define name="MT9F002_OUTPUT_HEIGHT" value="520"/> <!-- 420 / 840 / 1680 / 3360 -->
      <define name="MT9F002_TARGET_FPS" value="30"/>
      <define name="MT9F002_TARGET_EXPOSURE" value="4"/>
      <define name="MT9F002_GAIN_GREEN1" value="8.0"/>
      <define name="MT9F002_GAIN_GREEN2" value="8.0"/>
      <define name="MT9F002_GAIN_RED" value="8.0"/>
      <define name="MT9F002_GAIN_BLUE" value="8.0"/>
      <define name="MT9F002_OUTPUT_SCALER" value="0.25"/>

      <!-- <configure name="CPU_LED" value="1"/>--> <!-- Change to whatever you like -->
      <!-- PERIODIC_FREQUENCY should be least equal or greater than AHRS_PROPAGATE_FREQUENCY -->
      <configure name="PERIODIC_FREQUENCY" value="512"/> <!--  unit="Hz" -->

      <define name="DISCO_GYRO_RANGE" value="MPU60X0_GYRO_RANGE_2000"/><!-- TODO: Test if lower is better icm bias -->
      <define name="DISCO_ACCEL_RANGE" value="MPU60X0_ACCEL_RANGE_16G"/>
      <define name="DISCO_LOWPASS_FILTER" value="MPU60X0_DLPF_256HZ"/><!--  -->
      <define name="DISCO_SMPLRT_DIV" value="3"/> <!-- TODO: determine best value for 512 HZ loop -->

      <configure name="AHRS_PROPAGATE_FREQUENCY" value="500"/><!--  unit="Hz" -->
      <configure name="AHRS_CORRECT_FREQUENCY" value="500"/> <!--  unit="Hz" -->

      <configure name="NAVIGATION_FREQUENCY" value="16"/> <!--  unit="Hz" -->
      <configure name="CONTROL_FREQUENCY" value="120"/> <!--  unit="Hz" -->
      <configure name="TELEMETRY_FREQUENCY" value="60"/> <!--  unit="Hz" -->
      <configure name="MODULES_FREQUENCY" value="512"/> <!--  unit="Hz" -->

      <module name="imu" type="disco">
      </module>

      <module name="actuators" type="disco"/>
      <!-- This GPS is a REAL ublox M8N, so setting can be saved, no need for ubx_ucenter one has can set it oneself since we have all kinds of nift Galilleio setting we rather keep that -->
      <module name="gps" type="ubx_ucenter"/> <!-- Enabled for time being, we are lazy... -->

      <module name="sonar_bebop">
         <define name="USE_SONAR"/>
         <define name="SENSOR_SYNC_SEND_SONAR"/>
      </module>

      <module name="airspeed" type="ms45xx_i2c">
      </module>

      <!-- SBUS out is AETR by default but our transmitter sends TAER -->
      <module name="radio_control" type="sbus"> <!-- The output type of RX, over the air it can can be all kinds e.g. DSMX-->
        <define name="RADIO_CONTROL_NB_CHANNEL" value="12"/> <!-- This R620Has max sbus out of 12 -->
      </module>

      <!-- Those modules Not of use in sim so only in this target section real HW -->
      <module name="flight_benchmark">
        <define name="BENCHMARK_TOLERANCE_AIRSPEED" value="1" unit="m/s"/>
        <define name="BENCHMARK_TOLERANCE_ALTITUDE" value="4" unit="m"/>
        <define name="BENCHMARK_TOLERANCE_POSITION" value="6" unit="m"/>
      </module>

      <!-- <module name="tune_airspeed"/>--> <!--  Enable if one want to perform tuning -->
      <!-- <module name="sys_mon"/> --><!-- Enable if one want to check processor load for higher loop, nav, module etc. frequencies -->
      <!-- <module name="mag_calib_ukf"/>--> <!--Not used yet, obviously since it is commented out ;) but we should -->

       <!-- Used for writing e.g highspeed accelometer and gyro values for needed tuning can be disabled when all is done -->
       <!--
       <module name="logger_file">
         <define name="FILE_LOGGER_PATH" value="/data/ftp/internal_000"/>
       </module>
       -->

       <!-- For easier on desk testing transparent_usb, else transparent -->
    <!-- <module name="telemetry" type="transparent_usb"/>--> <!-- FIXME: gives compile error -->

    <module name="telemetry" type="transparent_udp"/>

    <!-- By adding new kernel drivers to the Disco it is very well possible to
    use all kinds of external devices. A special page on how to use this is under development... soon more...-->

    <!-- E.g. a serial modem via FTDI cable on CHUCK Micro USB 2, testflown adn works well -->

    <!--<define name="UART2_DEV" value="/dev/ttyUSB0/"/>-->
    <!--<module name="telemetry" type="transparent">-->
    <!-- Or use this for Digi Xbee modems -->
    <!--<module name="telemetry" type="xbee_api">
       <configure name="MODEM_PORT" value="UART2"/>
       <configure name="MODEM_BAUD" value="B57600"/>
    </module>-->

    </target>

<!-- *********************** For simulation of the flight ****************************-->
    <target name="sim" board="pc">
      <!--  <define name="RADIO_CONTROL_NB_CHANNEL" value="9"/> -->
      <!--<define name="INS_BARO_ID" value="BARO_SIM_SENDER_ID"/>-->
      <configure name="AHRS_PROPAGATE_FREQUENCY" value="500"/><!--  unit="Hz" -->

      <module name="radio_control" type="ppm">
      </module>
      <!--  module name="telemetry"     type="transparent"/>-->
      <!--<module name="imu" type="aspirin_v2.2"/>-->
      <!--<module name="baro_sim"/>-->

      <!-- For various parameter info here  https://wiki.paparazziuav.org/wiki/Subsystem/ahrs -->
      <!--<module name="ahrs" type="int_cmpl_quat">
      </module>-->
      <!--<module name="uart"/>--><!-- TODO: Exteral HITL PC debugging e.g a photocam trigger etc -->
    </target>

<!-- *********************** Another way for simulation of the flight ****************************-->
   <!-- <target name="jsbsim" board="pc">
      <define name="RADIO_CONTROL_NB_CHANNEL" value="9"/>-->
      <!--<define name="INS_BARO_ID" value="BARO_SIM_SENDER_ID"/>-->
      <!-- Note NPS needs the ppm type radio_control module -->
      <!--<module name="radio_control" type="datalink"/>-->
      <!--<module name="fdm" type="jsbsim"/>-->
      <!--<module name="udp"/>--><!--FIXME-->
    <!--</target>-->

      <!-- and another one ... -->
      <!-- <target name="yasim" board="pc"> -->
      <!-- Note NPS needs the ppm type radio_control module -->
      <!--
      <module name="radio_control" type="ppm">
      <module name="fdm" type="yasim"/>
      <module name="udp"/>
      -->
    <!-- </target>-->

<!-- ********** Common Defines and Config and values for both Real Hardware and Simulation ***** -->

    <!--<define name="RADIO_CONTROL_NB_CHANNEL" value="7"/>-->

    <!--
    NOTE: When using the "Air Data" module to provide airspeed you need a
    (differential) pressure sensor module publishing the BARO_DIFF ABI message.
    Make sure to disable other modules which otherwise directly set the
    airspeed in the state interface. E.g. when using the airspeed_ms45xx.xml module,
    define USE_AIRSPEED or USE_AIRSPEED_MS45XX to FALSE.

    Sometimes one just wants to measure, and not yet use the airspeed in
    a final navigational solution then also set it to FALSE
    -->

    <!--<define name="USE_AIRSPEED" value="TRUE"/>-->

    <define name="RADIO_CONTROL_AUTO1"/><!--FIXME: not working in JSBSim target-->

    <define name="AGR_CLIMB"/> <!--Has AGR mode for testing performance -->
    <define name="TUNE_AGRESSIVE_CLIMB"/>
    <define name="STRONG_WIND"/>
    <define name="WIND_INFO"/>
    <define name="WIND_INFO_RET"/>

    <define name="autopilot_motors_on" value="TRUE"/>
    <!-- temp fix for geomag, normally only used for rotorcraft -->
    <define name="SENSOR_SYNC_SEND"/> <!-- Temp for debugging Baro -->

    <configure name="USE_BARO_BOARD" value="TRUE"/> <!-- WIP -->

    <!-- amount of time it take for the bat to trigger check -->
    <!-- to avoid bat low spike detection when strong pullup withch draws short sudden power-->
    <!-- TODO: specificaly test for Disco see if needed or which value -->
    <define name="BAT_CHECKER_DELAY" value="60" unit="s/10"/> <!-- in tenth of seconds per default use ELECTRICAL_PERIODIC_FREQ if you for some reason want it differently-->

    <!-- Only one main battery so CATASTROPHIC_BATTERY kill should be somewhat delayed -->
    <define name="CATASTROPHIC_BATTERY_KILL_DELAY" value="410" unit="s/10"/> <!-- in tenth of seconds for engine kill or in ELECTRICAL_PERIODIC_FREQ-->

    <define name="AHRS_TRIGGERED_ATTITUDE_LOOP"/>
    <define name="USE_AHRS_GPS_ACCELERATIONS" value="TRUE"/>
    <define name="USE_MAGNETOMETER_ONGROUND" value="TRUE"/> <!--DEFINE only used if float_dcm  Use magnetic compensation before takeoff only while GPS course not good -->

    <configure name="USE_MAGNETOMETER" value="FALSE"/> <!-- First autoflight set to false better make sure it works and is callibrated if set to TRUE -->

    <module name="ahrs" type="float_cmpl_quat"> <!-- Compare e.g. float_dcm -->
        <configure name="AHRS_ALIGNER_LED" value="2"/><!-- Which color you want sir? ;) -->
        <define name="AHRS_MAG_UPDATE_ALL_AXES" value="FALSE"/> <!-- if TRUE with those high roll n pith angles magneto should be calibrated well -->
        <!-- <define name="AHRS_USE_GPS_HEADING" value="FALSE"/>--> <!-- TRUE by default Use GPS course to update heading for time being,if FALSE data from magneto only -->
        <!-- <define name="AHRS_GRAVITY_UPDATE_COORDINATED_TURN" value="FALSE"/>--> <!--Already TRUE by default Compensation of centrifugal force via GPS speed (to fly in circles with a fixedwing)"-->
        <define name="AHRS_GPS_SPEED_IN_NEGATIVE_Z_DIRECTION" value="FALSE"/> <!-- AHRS_GRAVITY_UPDATE_COORDINATED_TURN assumes the GPS speed is in the X axis direction. Quadshot, DelftaCopter and other hybrids can have the GPS speed in the negative Z direction" -->
        <define name="AHRS_PROPAGATE_LOW_PASS_RATES" value="FALSE"/> <!-- apply a low pass filter on rotational velocity"-->
        <define name="AHRS_BIAS_UPDATE_HEADING_THRESHOLD" value="10.0" unit="deg"/> <!-- don't update gyro bias if heading deviation is above this threshold in degrees"-->
        <define name="AHRS_HEADING_UPDATE_GPS_MIN_SPEED" value="2.0" unit="m/s"/> <!-- CAREFULL,  Don't update heading from GPS course if GPS ground speed is below is this threshold in m/s" -->
        <!-- Some insights https://lists.nongnu.org/archive/html/paparazzi-devel/2013-10/msg00126.html -->
        <define name="AHRS_GRAVITY_HEURISTIC_FACTOR" value="4.0"/> <!-- TODO: determine Default is 30. Reduce accelerometer cut-off frequency when the vehicle is accelerating: norm(ax,ay,az) 9,81 m/s2. WARNING: when the IMU is not well damped, the norm of accelerometers never equals to 9,81 m/s2. As a result, the GRAVITY_HEURISTIC_FACTOR will reduce the accelerometer bandwith even if the vehicle is not accelerating. -->
        <!-- <define name="AHRS_ICQ_IMU_ID" value="ABI_BROADCAST"/>--> <!-- ABI sender id of IMU to use -->
    </module>

    <module name="ins" type="alt_float"/>  <!--Does not work in SIM: extended thus use alt_float"/> -->
    <module name="control" type="new"/> <!-- type="energyadaptive"/>--> <!-- ETECS Disabled for first senseor calib and base tuning testflight -->
    <module name="navigation"/>
    <module name="gps" type="ublox"/>

  </firmware>

<!-- ************************* MODULES ************************* -->
   <modules>
    <!-- <module name="imu_quality_assessment"/> -->
    <!-- <module name="extra_pprz_dl"/>--> <!-- e.g. WiFi and LangRangeModem module: -->
    <!-- <module name="telemetry" type="transparent_udp"/> -->
    <module name="auto1_commands"/> <!--FIXME not working in JSBSim target with RC controller steering in Simulator-->

    <!-- <module name="send_imu_mag_current"/>--> <!-- Can be sabled after one time callibration quite the same for all Discos -->

    <!-- QNH -->
    <module name="air_data">
     <define name="CALC_AIRSPEED" value="FALSE"/>
     <define name="CALC_TAS_FACTOR" value="FALSE"/>
     <define name="CALC_AMSL_BARO" value="TRUE"/>
    </module>

    <module name="geo_mag"/>

    <module name="nav" type="line"/>
    <module name="nav" type="line_border"/>
    <module name="nav" type="line_osam"/>
    <module name="nav" type="survey_polygon"> <!-- needed to be able to survey an area -->
      <define name="POLYSURVEY_DEFAULT_DISTANCE" value="40" unit="m"/><!-- Make it a fit for plan and cam-->
    </module>
    <module name="nav" type="survey_poly_osam"/>
    <module name="nav" type="smooth"/>
    <module name="nav" type="vertical_raster"/>
    <module name="nav" type="flower"/>

    <!--<module name="nav" type="catapult"/>--><!-- Motorspoolup of Disco is to slow with direct handlaunch, Needs extra option of 90/0/90/0/90/0 DEG behaviour be usefull-->

    <module name="photogrammetry_calculator"/>

    <module name="video_thread"/>

    <module name="video_capture">
      <define name="VIDEO_CAPTURE_CAMERA" value="bottom_camera"/>
      <define name="VIDEO_CAPTURE_PATH" value="/data/ftp/internal_000/media/bottomcam"/>
    </module>

    <!-- FIXME NOT ready for Fixedwing primetime... need fixing-->
    <!--<module name="cv_blob_locator">
     <define name="BLOB_LOCATOR_CAMERA" value="bottom_camera"/>
    </module>-->

    <!--
    <module name="video_rtp_stream">
      <define name="VIEWVIDEO_CAMERA" value="front_camera"/>
      <define name="VIEWVIDEO_DOWNSIZE_FACTOR" value="8"/>
      <define name="VIEWVIDEO_QUALITY_FACTOR" value="60"/>
    </module>
    -->


    <!-- Steam it life in e.g. VLC via:
      vlc ./sw/tools/rtp_viewer/rtp_5000.sdp

      where the sdp file contains this:

       v=0
       m=video 5000 RTP/AVP 26
       c=IN IP4 0.0.0.0

      One can also stream life in GCS via Video Papget, see Wiki
    -->

    <!--
    <module name="video_rtp_stream">
     <define name="VIEWVIDEO_CAMERA" value="bottom_camera"/>
     <define name="VIEWVIDEO_QUALITY_FACTOR" value="50"/>
     <define name="VIEWVIDEO_DOWNSIZE_FACTOR" value="1"/>
   </module>
   -->

    <module name="video_exif"/><!-- embeeded data, not for video ;) but for photos taken -->

    <module name="digital_cam_video">
      <define name="DC_AUTOSHOOT_DISTANCE_INTERVAL" value="5.0" unit="s"/>
    </module>

  </modules>

<!-- ************************* ACTUATORS ************************* -->
  <servos>
    <servo name="S_THROTTLE" no="0" min="1000" neutral="1001" max="12500"/>
    <servo name="S_ELEVON_LEFT" no="1" min="1100" neutral="1450" max="1900"/>
    <servo name="S_ELEVON_RIGHT" no="6" min="1900" neutral="1450" max="1100"/>
    <servo name="S_RUDDER" no="2" min="1100" neutral="150" max="1900"/> <!-- Can be used for other purpose also e.g. added drop mechanism -->
    <servo name="S_ELEVATOR" no="3" min="1100" neutral="1500" max="1900"/> <!-- Can be used for other purpose also e.g. added ACL lights module -->
    <servo name="S_GEAR" no="4" min="1100" neutral="1500" max="1900"/> <!-- Can be used for other purpose also e.g. parachute -->
  </servos>

<!-- ********************* SERVO MIXER *************************** -->
  <section name="MIXER">
    <define name="ELEVON_ROLL_FACTOR" value="0.7f"/>
    <define name="ELEVON_PITCH_FACTOR" value="0.6f"/>
    <define name="ELEVON_YAW_FACTOR" value="0.9f"/>
    <!-- Set up/down deflection differences, needs many in flight tests to find acceptable values-->
    <define name="ELEVON_DIFF" value="0.3f"/> <!-- TODO: not used yet, not tuned yet... -->
  </section>

<!-- ************************ COMMAND LAWS ***************************** -->
  <command_laws>
    <let var="aileron" value="@ROLL * ELEVON_ROLL_FACTOR"/>
    <let var="elevator" value="@PITCH * ELEVON_PITCH_FACTOR"/>
    <let var="leftyaw" value="(@YAW >= 0? 0 : 1)"/>
    <let var="rightyaw" value="(1 - $leftyaw)"/>
    <!-- opposite of left -->
    <let var="rudderleft" value="-(@YAW * $leftyaw) * ELEVON_YAW_FACTOR"/>
    <let var="rudderright" value="(@YAW * $rightyaw) * ELEVON_YAW_FACTOR"/>
    <set servo="S_THROTTLE" value="@THROTTLE"/>
    <set servo="S_ELEVON_LEFT" value="$elevator - $aileron + $rudderleft"/>
    <set servo="S_ELEVON_RIGHT" value="$elevator + $aileron + $rudderright "/>
  </command_laws>

<!-- ********************** RC COMMANDS ************************** -->
  <rc_commands>
    <set command="THROTTLE" value="@THROTTLE"/>
    <set command="ROLL" value="@ROLL"/>
    <set command="PITCH" value="@PITCH"/>
    <set command="YAW" value="@YAW"/>
    <!-- for EXTRAs e.g. tuning via RC these ones below -->
   <!-- <set command="GAIN1" value="@GAIN1"/>f
    <set command="CALIB" value="@GAIN2"/>-->
  </rc_commands>

  <!-- ************************ AUTO RC COMMANDS ***************************** -->
  <auto_rc_commands>
    <!-- TEMPorary for heading change steering if someting not OK with course in Autonomous flight -->
    <set command="YAW" value="@YAW"/>
    <!-- To be able to set gain values via RC Transmitter these ones below.
     This way the can keep his eye on a fast moving plane and set somegain values
     makes life of a single testpiloted AC much easier -->
    <!--<set command="GAIN1"    value="@GAIN1"/>
    <set command="CALIB"    value="@GAIN2"/>-->
  </auto_rc_commands>

<!-- ************************ COMMANDS ***************************** -->
  <commands>
    <axis name="THROTTLE" failsafe_value="0"/>
    <axis name="ROLL" failsafe_value="5"/>
    <axis name="PITCH" failsafe_value="-6"/>
    <axis name="YAW" failsafe_value="0"/>
  </commands>

<!-- ************************ AUTO1 ***************************** -->
  <!-- Do not set MAX_ROLL, MAX_PITCH to small of a value, otherwise one can NOT control the plane very well manually -->
  <!-- If you have dual rate swith it of with same swtch as mode switch thus auto1 means dualrate is switched off also -->
  <section name="AUTO1" prefix="AUTO1_">
    <define name="MAX_ROLL" value="50" unit="deg"/> <!-- More autority while testflying for first time -->
    <define name="MAX_PITCH" value="35" unit="deg"/> <!-- More autority while testflying for first time -->
  </section>

  <!-- ************************ TRIM ***************************** -->
  <section name="TRIM" prefix="COMMAND_">
    <define name="ROLL_TRIM" value="0.0"/>
    <define name="PITCH_TRIM" value="0.0"/>
  </section>

  <!-- ************************ FAILSAFE ***************************** -->
  <!-- Strategy for failsave is slow wide circles and loosing height in a controlled fashion -->
  <section name="FAILSAFE" prefix="FAILSAFE_">
    <define name="DEFAULT_THROTTLE" value="0.0" unit="%"/>
    <define name="DEFAULT_ROLL" value="15.0" unit="deg"/>
    <define name="DEFAULT_PITCH" value="-20.0" unit="deg"/>
    <define name="DELAY_WITHOUT_GPS" value="4" unit="s"/>
  </section>

<!-- ************************* IMU ************************* -->
  <section name="IMU" prefix="IMU_">
    <!-- ***************** MAGNETO *****************-->
    <!-- Replace these values with your own calibration, on the correct sensor -->
    <define name="ACCEL_X_NEUTRAL" value="0"/>
    <define name="ACCEL_Y_NEUTRAL" value="0"/>
    <define name="ACCEL_Z_NEUTRAL" value="0"/>

    <define name="ACCEL_X_SENS" value="2.43116617606" integer="16"/>
    <define name="ACCEL_Y_SENS" value="2.46264528353" integer="16"/>
    <define name="ACCEL_Z_SENS" value="2.41899590699" integer="16"/>

    <!--define name="MAG_OFFSET" value="-?.0" unit="deg"--> <!--  TODO: at least 3 axis in worst case -->

<!--
Calibrating the Magnetometer

First of all it is important to know that all ferromagnetic materials near the mag distort the measurements.
So preferably you do the mag calibration with the mag/autopilot mounted in your frame and as far away from metal and magnets as possible.
Calibrating for the Earth magnetic field

The most crucial part for the magnetometer calibration:

1) Stop Server, start server, creates new log file we need for calibration
2) Slowly spin your aircraft around all axes round a minute or so...
3) Stop the server so it will write the log file
4) Run a Calibartion calculation script to get your calibration coefficients:

 sw/tools/calibration/calibrate.py -s MAG var/logs/YY_MM_DD__hh_mm_ss.data -vp

 ( Where YY_MM_DD__hh_mm_ss.data is the name of the log data file that was just generated.)

5) Paste the results below (CTRL+SHIFT+C to copy form terminal) overwriteing
6) Save, rebuild and upload to Disco... Done!
-->

    <define name="MAG_X_NEUTRAL" value="4"/>
    <define name="MAG_Y_NEUTRAL" value="-111"/>
    <define name="MAG_Z_NEUTRAL" value="-515"/>
    <define name="MAG_X_SENS" value="6.99930117435" integer="16"/>
    <define name="MAG_Y_SENS" value="6.85616692786" integer="16"/>
    <define name="MAG_Z_SENS" value="7.25614648348" integer="16"/>

    <define name="MAG_X_CURRENT_COEF" value="0.000321738038902"/>
    <define name="MAG_Y_CURRENT_COEF" value="-0.000820010304048"/>
    <define name="MAG_Z_CURRENT_COEF" value="0.00139218924958"/>

    <define name="BODY_TO_IMU_PHI" value="0.0" unit="deg"/>
    <define name="BODY_TO_IMU_THETA" value="0.0" unit="deg"/>
    <define name="BODY_TO_IMU_PSI" value="0.0" unit="deg"/>
  </section>

<!-- ************************* AHRS ************************* -->
  <section name="AHRS" prefix="AHRS_">
    <!-- Values used if no GNSS fix, on 3D fix is update by geo_mag module -->
    <!-- Better keep geo_mag module ifyou have a GNSDS, else replace the values with your local magnetic field -->

    <!-- Local Magnetic field DE2018 -->
    <define name="H_X" value="0.403761"/>
    <define name="H_Y" value="0.014826"/>
    <define name="H_Z" value="0.914744"/>
  </section>

  <!-- ************************* INS ************************* -->
  <section name="INS">
    <!--  For those super precice target landings ;) well better build in a uBLox M8P-->
    <define name="INS_BODY_TO_GPS_X" value="11.0" unit="cm"/>
    <define name="INS_BODY_TO_GPS_Y" value="0.0" unit="cm"/>
    <define name="INS_BODY_TO_GPS_Z" value="3.0" unit="cm"/>

    <!-- <define name="USE_INS_MODULE"/> -->

    <define name="ROLL_NEUTRAL_DEFAULT" value="0" unit="deg"/>
    <define name="PITCH_NEUTRAL_DEFAULT" value="0" unit="deg"/>

    <!-- Use GPS altitude measurments and set the R gain -->
    <define name="USE_GPS_ALT" value="1"/>
    <define name="VFF_R_GPS" value="0.01"/>
  </section>

<!-- ************************* SONAR ************************* -->
  <section name="SONAR" prefix="SONAR_">
    <define name="SCALE" value="0.016775" integer="16"/>
    <define name="OFFSET" value="0.0" unit="m"/> <!-- Landing gear height to tarmac, well ~0 m with this fyingwing -->
    <define name="MAX_RANGE" value="5.5"/>
    <define name="MIN_RANGE" value="0.3"/>
  </section>

<!-- ************************* GAINS ************************* -->
<!-- ************************* H ************************* -->
  <section name="HORIZONTAL CONTROL" prefix="H_CTL_">

     <!-- TODO: Tune values -->
     <define name="COURSE_PGAIN" value="1.19"/>
     <define name="COURSE_DGAIN" value="0.02"/>

     <define name="COURSE_TAU" value="0.5"/>
     <!--
     The prebank is an adjustment to the roll setting which is performed when the aircraft is
     trying to do a circle and when it is close to the circumference of the circle. This way
     it does not fly straight into the circumference but instead it starts to make a roll as
     the one needed to fly in circles.
     There is a value in the airframe file COURSE_PRE_BANK_CORRECTION which can be used to
     increase o decrease the effect. If set to 1 then the normal prebank is done.
     If set to 0.5 then half of the additional roll is done. This causes the aircraft to not roll
     enough in order to fly the intended circle and it ends up flying in a larger circle.
     A value > 1 makes it fly a smaller circle.

    https://github.com/paparazzi/paparazzi/blob/master/sw/airborne/modules/nav.c#L132
    -->
    <define name="COURSE_PRE_BANK_CORRECTION" value="0.98"/>

    <define name="ROLL_MAX_SETPOINT" value="50" unit="deg"/><!-- Determine best value-->
    <define name="PITCH_MAX_SETPOINT" value="45" unit="deg"/><!-- Determine best value-->
    <define name="PITCH_MIN_SETPOINT" value="-45" unit="deg"/><!-- Determine best value-->

    <define name="PITCH_PGAIN" value="17250"/>
    <define name="PITCH_DGAIN" value="500."/>
    <define name="PITCH_IGAIN" value="400"/>
    <define name="PITCH_KFFA" value="0."/>
    <define name="PITCH_KFFD" value="0."/>

    <define name="ELEVATOR_OF_ROLL" value="1400" unit="PPRZ_MAX"/>
    <define name="ROLL_SLEW" value="0.4"/><!-- TODO: Determine best value-->
    <define name="ROLL_ATTITUDE_GAIN" value="12000."/>
    <define name="ROLL_RATE_GAIN" value="1200"/>
    <define name="ROLL_IGAIN" value="120."/>
    <define name="ROLL_KFFA" value="128"/>
    <define name="ROLL_KFFD" value="0"/>

    <define name="PITCH_OF_ROLL" value="0." unit="deg"/><!-- TODO: : ?-->
    <define name="AILERON_OF_THROTTLE" value="0.0"/><!-- TODO: : ?-->

  </section>

  <!--  We have value of Classic as well as ETECS, this since airframe is first flown "Classic" the ETECS, make tunng a bit easier
   It is NOT (yet?) switchable on the fly in flight -->

<!-- ****************************** V ****************************** -->
  <section name="VERTICAL CONTROL" prefix="V_CTL_">
    <!-- power -->
    <define name="POWER_CTL_BAT_NOMINAL" value="11.5" unit="volt"/>

    <!-- Classic -->
    <!-- outer loop proportional gain -->
    <define name="ALTITUDE_PGAIN" value="0.14"/> <!--unit="(m/s)/m"-->

    <!-- disable climb rate limiter -->
    <define name="AUTO_CLIMB_LIMIT" value="2*V_CTL_ALTITUDE_MAX_CLIMB"/>

    <!-- auto throttle -->

    <!-- Cruise throttle + limits -->
    <define name="AUTO_THROTTLE_MIN_CRUISE_THROTTLE" value="0.28" unit="%"/>  <!-- TODO: Determine -->
    <define name="AUTO_THROTTLE_NOMINAL_CRUISE_THROTTLE" value="0.53" unit="%"/> <!-- TODO: Determine -->
    <define name="AUTO_THROTTLE_MAX_CRUISE_THROTTLE" value="0.94" unit="%"/>

    <define name="AUTO_THROTTLE_LOITER_TRIM" value="1000" unit="pprz_t"/>
    <define name="AUTO_THROTTLE_DASH_TRIM" value="-2000" unit="pprz_t"/>

    <define name="AUTO_THROTTLE_CLIMB_THROTTLE_INCREMENT" value="0.1" unit="%/(m/s)"/> <!-- TODO: Determine -->

    <!-- Climb loop (throttle) -->
    <define name="AUTO_THROTTLE_PGAIN" value="0.007" unit="%/(m/s)"/>
    <define name="AUTO_THROTTLE_IGAIN" value="0.0"/>
    <define name="AUTO_THROTTLE_DGAIN" value="0.0"/>
    <define name="AUTO_THROTTLE_PITCH_OF_VZ_PGAIN" value="0.077" unit="rad/(m/s)"/> <!-- TODO: Determine -->

    <define name="THROTTLE_SLEW_LIMITER" value="0.5" unit="m/s/s"/>  <!-- Limiter for e.g. a powerful motor -->

    <!-- airspeed control -->
    <!-- Best to never set AUTO_AIRSPEED_SETPOINT lower than airframe stall speed if you hate repairs ;) -->
    <!-- investigate: howto if higher then _AIRSPEED_SETPOINT then airframe tries to maintain a constand ground speed UNKNOWN -->
    <define name="AUTO_AIRSPEED_SETPOINT" value="15.0" unit="m/s"/>
    <define name="AUTO_AIRSPEED_THROTTLE_PGAIN" value="0.1" unit="%/(m/s)"/>
    <define name="AUTO_AIRSPEED_THROTTLE_DGAIN" value="0.12"/>
    <define name="AUTO_AIRSPEED_THROTTLE_IGAIN" value="0.0"/>
    <define name="AUTO_AIRSPEED_PITCH_PGAIN" value="0.06" unit="degree/(m/s)"/>
    <define name="AUTO_AIRSPEED_PITCH_DGAIN" value="0.0"/>
    <define name="AUTO_AIRSPEED_PITCH_IGAIN" value="0.042"/>

    <define name="AIRSPEED_MAX" value="23.0" unit="m/s"/>
    <define name="AIRSPEED_MIN" value="9.0" unit="m/s"/>

    <!-- pitch trim -->
    <define name="PITCH_LOITER_TRIM" value="0." unit="deg"/> <!-- Non ETECS -->
    <define name="PITCH_DASH_TRIM" value="0." unit="deg"/> <!-- Non ETECS -->

    <!-- groundspeed control -->
    <define name="AUTO_GROUNDSPEED_SETPOINT" value="15.0" unit="m/s"/>
    <define name="AUTO_GROUNDSPEED_PGAIN" value="1."/>
    <define name="AUTO_GROUNDSPEED_IGAIN" value="0."/>

    <define name="AIRSPEED_PGAIN" value="0.1"/>

    <!-- outer loop saturation -->
    <define name="ALTITUDE_MAX_CLIMB" value="4.0" unit="m/s"/> <!-- TODO: Determine -->
    <define name="MAX_ACCELERATION" value="4.0" unit="G"/> <!-- TODO: Determine -->

    <!-- auto pitch inner loop -->

    <!-- Climb loop (pitch) -->
    <define name="AUTO_PITCH_PGAIN" value="0.027"/> <!-- TODO: Determine -->
    <define name="AUTO_PITCH_DGAIN" value="0.01"/>   <!-- TODO: Determine -->
    <define name="AUTO_PITCH_IGAIN" value="0.00"/> <!-- TODO: Determine -->
    <!--define name="AUTO_PITCH_CLIMB_THROTTLE_INCREMENT" value="0.14"/-->
    <define name="AUTO_PITCH_MAX_PITCH" value="35" unit="deg"/><!-- TODO: Determine default and best -->
    <define name="AUTO_PITCH_MIN_PITCH" value="-35" unit="deg"/><!-- TODO: Determine default and best -->

    <!-- ============= ETECS ============= -->
    <define name="ENERGY_TOT_PGAIN" value="0.35"/> <!-- TODO: Determine -->
    <define name="ENERGY_TOT_IGAIN" value="0.30"/> <!-- TODO: Determine -->
    <define name="ENERGY_DIFF_PGAIN" value="0.40"/> <!-- TODO: Determine -->
    <define name="ENERGY_DIFF_IGAIN" value="0.35"/> <!-- TODO: Determine -->

    <define name="GLIDE_RATIO" value="7."/> <!-- 7 to 1 --> <!-- TODO: Determine also for big batt -->

    <!-- extra's -->
    <define name="AUTO_THROTTLE_OF_AIRSPEED_PGAIN" value="0.02"/>
    <define name="AUTO_THROTTLE_OF_AIRSPEED_IGAIN" value="0.0"/>

    <define name="AUTO_PITCH_OF_AIRSPEED_PGAIN" value="0.0"/> <!-- TODO: Determine -->
    <define name="AUTO_PITCH_OF_AIRSPEED_IGAIN" value="0.0"/> <!-- TODO: Determine -->
    <define name="AUTO_PITCH_OF_AIRSPEED_DGAIN" value="0.0"/> <!-- TODO: Determine -->

  </section>

<!-- ************************* AGGRESIVE *************************** -->
  <section name="AGGRESSIVE" prefix="AGR_">
    <define name="BLEND_START" value="50" unit="m"/> <!-- Altitude Error to Initiate Aggressive Climb CANNOT BE ZERO!!-->
    <define name="BLEND_END" value="15" unit="m"/> <!-- Altitude Error to Blend Aggressive to Regular Climb Modes  CANNOT BE ZERO!!-->
    <define name="CLIMB_THROTTLE" value="0.95" unit="%"/> <!-- Throttlelevel for Aggressive Climb -->
    <define name="CLIMB_PITCH" value="40" unit="deg"/> <!-- Pitch for Aggressive Climb -->
    <define name="DESCENT_THROTTLE" value="0.5" unit="%"/> <!-- Throttlelevel for Aggressive Decent -->
    <define name="DESCENT_PITCH" value="-35" unit="deg"/> <!-- Pitch for Aggressive Decent -->
    <define name="CLIMB_NAV_RATIO" value="0.8" unit="%"/> <!-- Percent Navigation for Altitude Error Equal to Start Altitude -->
    <define name="DESCENT_NAV_RATIO" value="1.0" unit="%"/>
  </section>

<!-- **************************** BAT ****************************** -->
  <section name="BAT">
    <!-- <define name="MAX_BAT_CAPACITY" value="2700" unit="mAh"/> --> <!-- The Default Parrot Disco 2700mAh battery -->
    <define name="MAX_BAT_CAPACITY" value="5200" unit="mAh"/> <!-- 3rd party battery -->
    <define name="MilliAmpereOfAdc(_adc)" value="(_adc-632)*4.14"/> <!-- TODO: calibrate even better -->
    <!-- tested at V 11.7 the avg -->  <!-- 1idel RPM then 1.0A half throttle 4A-->
    <define name="MILLIAMP_AT_IDLE_THROTTLE" value="600" unit="mA"/>  <!-- 500mA, with additional RC receiver ~600mA -->
    <define name="MILLIAMP_AT_FULL_THROTTLE" value="11000" unit="mA"/> <!-- At 11.7 10.6 A at 12.2v 11.0A rounded then to 11000 to be at safe side-->

    <define name="MAX_BAT_LEVEL" value="12.6" unit="V"/> <!-- 3S lipo 3x4.2 = 12.6 -->
    <define name="LOW_BAT_LEVEL" value="10.6" unit="V"/>
    <define name="CRITIC_BAT_LEVEL" value="10.0" unit="V"/>
    <define name="CATASTROPHIC_BAT_LEVEL" value="9.3" unit="V"/> <!-- TODO: see when AP switches off -->
    <define name="MIN_BAT_LEVEL" value="9.0" unit="V"/><!-- Get rid if this one maybe? -->
  </section>

<!-- ***************************** MISC **************************** -->
  <section name="MISC">
      <!-- All with default propeller -->
    <define name="MINIMUM_AIRSPEED" value="10." unit="m/s"/> <!-- TODO: Determine -->
    <define name="NOMINAL_AIRSPEED" value="15." unit="m/s"/> <!-- TODO: Determine -->
    <define name="MAXIMUM_AIRSPEED" value="23." unit="m/s"/> <!-- TODO: Determine -->

    <!-- Values here are only referred to by the flightplan m*_s*_airspeed.xml in final AC -->
    <define name="CLIMB_AIRSPEED" value="12." unit="m/s"/> <!-- TODO: Determine max and get best values -->
    <define name="TRACKING_AIRSPEED" value="18." unit="m/s"/> <!-- TODO: get best values -->
    <define name="GLIDE_AIRSPEED" value="10." unit="m/s"/> <!-- TODO: get best values -->
    <define name="STALL_AIRSPEED" value="7." unit="m/s"/> <!-- TODO: Determine limit of plane in testflights and set at this * 1.1 -->
    <define name="RACE_AIRSPEED" value="23." unit="m/s"/> <!-- TODO: determine -->
    <define name="MIN_SPEED_FOR_TAKEOFF" value="6." unit="m/s"/> <!-- TODO: determine and change to make it for airspeed -->
    <define name="AIRSPEED_SETPOINT_SLEW" value="0.4" unit="m/s/s"/> <!-- TODO: get best values -->

    <define name="TAKEOFF_PITCH_ANGLE" value="45" unit="deg"/> <!-- TODO: get best values -->
    <define name="FLARE_PITCH_ANGLE" value="20" unit="deg"/> <!-- TODO: get best values -->
    <define name="NAV_GLIDE_PITCH_TRIM" value="-1.0" unit="deg"/> <!-- TODO: determine -->

    <define name="KILL_MODE_DISTANCE" value="MAX_DIST_FROM_HOME*1.3+HOME_RADIUS" unit="m"/>  <!--  improve value by default turn radius calc -->

    <define name="DEFAULT_CIRCLE_RADIUS" value="60." unit="m"/> <!-- TODO: determine if possible well -->
    <define name="HOME_RADIUS" value="DEFAULT_CIRCLE_RADIUS" unit="m"/>
    <define name="LANDING_CIRCLE_RADIUS" value="55." unit="m"/> <!-- TODO: determine -->
    <!-- MIN_CIRCLE_RADIUS used and needed for spiral navigation function and panic autolanding turns-->
    <define name="MIN_CIRCLE_RADIUS" value="50." unit="m"/> <!-- TODO: determine -->

    <define name="CARROT" value="5." unit="s"/> <!-- TODO: maye ~?s -->

    <!--UNLOCKED_HOME_MODE if set to TRUE means that HOME mode does not get stuck.
    If not set before when you would enter home mode you had to flip a bit via the GCS to get out. -->
    <define name="UNLOCKED_HOME_MODE" value="TRUE"/>
    <!-- RC_LOST_MODE means that if your RC Transmitter signal is not received anymore in the autopilot, e.g. you switch it off
    or  fly a long range mission you define the wanted mode behaviour here.
    If you do not define it, it defaults to flying to the flightplan HOME -->
    <define name="RC_LOST_MODE" value="AP_MODE_AUTO2"/>

    <!-- TODO: SET some modem values with multipoint also the $AC_ID -->
    <!--  Here XBEE init will be misused to set SiK Si10xx based modems as the Hope and RFdesign -->
    <!--  <define name="XBEE_INIT" value="ATS17=$AC_ID\rATS16=134\rAT&W\rATZ\r" type="string"/>  -->
    <!--  <define name="NO_XBEE_API_INIT" value="TRUE"/> -->
 </section>

<!-- ****************** HAND OR CATAPULT LAUNCH ******************** -->
<!-- the CATAPULT in some cases is a Human throwing the plane -->
  <section name="CATAPULT" prefix="NAV_CATAPULT_">
    <define name="ACCELERATION_THRESHOLD" value="1.1" unit="g"/> <!-- Works, maybe there is a more optimal value -->
    <define name="ACCELERATION_DETECTION" value="4"/>
    <define name="MOTOR_DELAY" value="0.0" unit="s"/> <!-- make sure your ESC has no startup delay -->
    <define name="HEADING_DELAY" value="(PERIODIC_FREQUENCY*6)" unit="s"/> <!-- possible to set to a lower value if MAG is working 100pct OK -->
    <define name="INITIAL_PITCH" value="0.523599" unit="rad"/>  <!-- ~30deg -->
    <!--TODO: tune this, look at graphs from manual flights-->
    <define name="INITIAL_THROTTLE" value="1."/>
    <define name="CLIMB_DISTANCE" value="30" unit="m"/> <!--distance of the climb waypoint in front of the catapult -->
    <define name="TIMEOUT" value="60." unit="s"/> <!-- timeout to disarm the high freq module -->
  </section>

 <!-- ******************* PHOTOGRAMMETRY ************************** -->
  <section name="PHOTOGRAMMETRY" prefix="PHOTOGRAMMETRY_">
    <!-- TODO: FIXME Bottom cam real Camera Parameters -->
    <define name="FOCAL_LENGTH" value="24.0" unit="mm"/> <!-- TODO: for bottomcam -->
    <define name="SENSOR_WIDTH" value="6.66" unit="mm"/><!-- TODO: for bottomcam -->
    <!-- In direction of the plane's wings -->
    <define name="SENSOR_HEIGHT" value="5.32" unit="mm"/><!-- TODO: for bottomcam -->
    <!-- In direction of the plane's nose -->
    <define name="PIXELS_WIDTH" value="4000"/>
    <!-- Photogrammetry Parameters. Can also be defined in a flightplan instead
      <define name="OVERLAP" value="0.3" unit="%"/>
      <define name="SIDELAP" value="0.2" unit="%"/>
      <define name="RESOLUTION" value="50" unit="mm pixel projection"/>-->

    <!-- Flight bounds Parameters when photoscanning -->
    <define name="HEIGHT_MIN" value="50." unit="m"/><!-- TODO: for bottomcam -->
    <define name="HEIGHT_MAX" value="120." unit="m"/><!-- TODO: for bottomcam -->
    <define name="RADIUS_MIN" value="70." unit="m"/><!-- TODO: for bottomcam -->
  </section>

<!-- ************************ GLS_APPROACH ************************* -->
  <section name="GLS_APPROACH" prefix="APP_">
    <define name="DISTANCE_AF_SD" value="20" unit="m"/>
    <define name="ANGLE" value="4" unit="deg"/> <!-- TODO: determine -->
    <define name="INTERCEPT_AF_SD" value="80" unit="m"/> <!--watch it after landing airspeed = 0 thus aircraft throttles up again, not good -->
    <!--<define name="INTERCEPT_RATE" value="0.624" unit="m/s/s"/>-->
    <define name="TARGET_SPEED" value="10.0" unit="m/s"/> <!-- via airspeed -->
  </section>

<!-- ********************** GCS SPECIFICS ************************** -->
  <section name="GCS">
    <define name="SPEECH_NAME" value="Disco"/>
    <define name="AC_ICON" value="flyingwing"/>
    <define name="ALT_SHIFT_PLUS_PLUS" value="40"/>
    <define name="ALT_SHIFT_PLUS" value="20"/>
    <define name="ALT_SHIFT_MINUS" value="-20"/>
  </section>

<!-- ************************* SIMU ******************************** -->
  <section name="SIMU">
    <define name="JSBSIM_MODEL" value="&quot;Malolo1&quot;"/>
    <!--define name="JSBSIM_INIT"   value="&quot;Malolo1-IC&quot;"/-->
    <define name="JSBSIM_LAUNCHSPEED" value="11.0"/>
    <define name="WEIGHT" value="1."/>
    <define name="JSBSIM_IR_ROLL_NEUTRAL" value="RadOfDeg(0.)"/>
    <define name="JSBSIM_IR_PITCH_NEUTRAL" value="RadOfDeg(0.)"/>
    <define name="YAW_RESPONSE_FACTOR" value=".9"/>   <!--default 1.-->
    <define name="PITCH_RESPONSE_FACTOR" value="1."/> <!--default 1.-->
    <define name="ROLL_RESPONSE_FACTOR" value="20."/> <!--default 15-->
  </section>

<!-- ************************ JSBSIM ******************************* -->
  <section name="SIMULATOR" prefix="NPS_">
    <define name="JSBSIM_MODEL" value="Malolo1" type="string"/>
    <define name="COMMANDS_NB" value="4"/>
    <define name="ACTUATOR_NAMES" value="throttle-cmd-norm, aileron-cmd-norm, elevator-cmd-norm, rudder-cmd-norm" type="string[]"/>
    <define name="SENSORS_PARAMS" value="nps_sensors_params_default.h" type="string"/>
    <define name="JS_AXIS_MODE" value="4"/>
    <define name="BYPASS_AHRS" value="TRUE"/>
    <define name="BYPASS_INS" value="TRUE"/>
  </section>

</airframe>

