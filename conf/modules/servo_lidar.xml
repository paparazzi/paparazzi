<!DOCTYPE module SYSTEM "module.dtd">

<module name="servo_lidar" dir="lidar/slam">
  <doc>
    <description>
      Servo-mounted LIDAR scanning system
      (Uses tfmini driver and provides scanning functionality)
    </description>
    <configure name="USE_SERVO_LIDAR" value="true|false" description="To enable the servo module"/>
  </doc>

  <settings>
    <dl_settings NAME="Servo LIDAR">
        <dl_settings NAME="Servo LIDAR">
            <dl_setting var="servoLidar.enabled" min="0" step="1" max="1" shortname="Enable" values="Disabled|Enabled"/>
            <dl_setting var="servoLidar.speed" min="1" step="1" max="20" shortname="Speed"/>
        </dl_settings>
    </dl_settings>
  </settings>

  <header>
    <file name="servo_lidar.h"/>
  </header>
  
  <init fun="servoLidar_init()"/>
  <periodic fun="servoLidar_periodic()" freq="100" autorun="TRUE"/>

  <makefile target="ap|nps">
    <configure name="SERVO_LIDAR_SPEED" default="5"/>
    <configure name="USE_SERVO_LIDAR" default="TRUE"/>   
    <define name="USE_SERVO_LIDAR" value="$(USE_SERVO_LIDAR)"/> 
    <file name="servo_lidar.c"/>
  </makefile>
</module>