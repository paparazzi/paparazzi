<!DOCTYPE module SYSTEM "module.dtd">

<module name="dragspeed">
  <doc>
    <description>This module estimates the velocity of rotorcraft by measuring the drag force using the accelerometer.</description>
    <define name="DRAGSPEED_ACCEL_ID" description="Accelerometer ABI ID to subscribe to (default: ABI_BROADCAST)"/>
    <define name="DRAGSPEED_COEFF" description="Drag coefficient (mu/m), where Drag coefficient (mu/m) of the linear drag model, where m*a = v*mu"/>
    <define name="DRAGSPEED_ZERO_X" description="Accelerometer reading (x axis) when stationary [m/s^2]"/>
    <define name="DRAGSPEED_ZERO_Y" description="Accelerometer reading (y axis) when stationary [m/s^2]"/>
    <define name="DRAGSPEED_R" description="Velocity measurement noise variance [(m/s)^2]"/>
    <define name="DRAGSPEED_FILTER" description="First-order low-pass filter strength [0..1] (default: 0.8)"/>
  </doc>
  <settings>
    <dl_settings>
      <dl_settings name="dragspeed">
        <dl_setting shortname="Coeff" var="dragspeed.coeff" min="0" step="0.01" max="2.0"/>
        <dl_setting shortname="Calibrate coeff" var="dragspeed.do_calibrate_coeff" min="0" step="1" max="1"/>
        <dl_setting shortname="Filter" var="dragspeed.filter" min="0" step="0.01" max="1.0"/>
        <dl_setting shortname="Zero_X" var="dragspeed.zero.x" min="-2.0" step="0.01" max="2.0"/>
        <dl_setting shortname="Zero_Y" var="dragspeed.zero.y" min="-2.0" step="0.01" max="2.0"/>
        <dl_setting shortname="Calibrate zero" var="dragspeed.do_calibrate_zero" min="0" step="1" max="1"/>
      </dl_settings>
    </dl_settings>
  </settings>
  <header>
    <file name="dragspeed.h"/>
  </header>
  <init fun="dragspeed_init()"/>
  <makefile>
    <file name="dragspeed.c"/>
  </makefile>
</module>

