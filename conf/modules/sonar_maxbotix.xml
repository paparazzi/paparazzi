<!DOCTYPE module SYSTEM "module.dtd">

<!--
     Maxbotix Sonar driver
     @configure ADC_SONAR on which ADC the sensor is connected
-->

<module name="sonar">
  <doc>
    <description>
     Maxbotix Sonar driver
    </description>
    <configure name="ADC_SONAR" value="ADC_X" description="select ADC to use with the sonar"/>
    <define name="SONAR_DISTANCE" description="enables calculation of Distance in m"/>
    <define name="SONAR_OFFSET" description="sensor offset- default is 0"/>
    <define name="SONAR_SCALE" description="sensor scale factor default is 166"/>
  </doc>

  <header>
    <file name="sonar_maxbotix.h"/>
  </header>

  <init fun="maxbotix_init()"/>
  <periodic fun="maxbotix_periodic()" freq="10"/>

  <makefile>
    <file name="sonar_maxbotix.c"/>
  </makefile>
  <makefile target="ap">
  <!--  <raw>
# set ADC_SONAR to ADC_0 as default
ifeq ($(ADC_SONAR),)
ADC_SONAR = ADC_5
endif
    </raw>-->
    <define name="ADC_CHANNEL_SONAR" value="$(ADC_SONAR)"/>
    <define name="USE_$(ADC_SONAR)"/>
    <define name="USE_SONAR"/>
  </makefile>

</module>
