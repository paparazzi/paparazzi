 <!DOCTYPE module SYSTEM "module.dtd">

 <module name="stereocam" dir="sensors">
  <doc>
   <description>
     Get images from stereocam over uart
     add
      <!--load name="stereocam.xml">
        <configure name="STEREO_UART" value="UARTX"/>
        <configure name="STEREO_BAUD" value="BXXXXX"/>
      </load-->
      to airframe file to include and configure UART. Baud rates tested (B38400, B230400, B921600) 
   </description>
   </doc>
<header>
    <file name="stereocam.h"/>
  </header>
  <periodic fun="stereocam_periodic()" start="stereocam_start()" stop="stereocam_stop()" autorun="TRUE" freq="512"/>
  <makefile>
    <define name="SEND_STEREO" value="TRUE"/>
    <raw>
      STEREO_UART_LOWER=$(shell echo $(STEREO_UART) | tr A-Z a-z)
    </raw>
    <define name="USE_$(STEREO_UART)"/>
    <define name="UART_LINK" value="$(STEREO_UART_LOWER)"/>
    <define name="$(STEREO_UART)_BAUD" value="$(STEREO_BAUD)"/>
    <file name="stereocam.c"/>
  </makefile>
 </module>
